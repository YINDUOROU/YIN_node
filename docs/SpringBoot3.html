<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title></title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.page-description {
	margin-bottom: 2em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(50, 48, 44, 1);
}
.highlight-gray {
	color: rgba(115, 114, 110, 1);
	fill: rgba(115, 114, 110, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(205, 60, 58, 1);
	fill: rgba(205, 60, 58, 1);
}
.highlight-default_background {
	color: rgba(50, 48, 44, 1);
}
.highlight-gray_background {
	background: rgba(248, 248, 247, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(248, 243, 252, 1);
}
.highlight-pink_background {
	background: rgba(252, 241, 246, 1);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(115, 114, 110, 1);
	fill: rgba(115, 114, 110, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(205, 60, 58, 1);
	fill: rgba(205, 60, 58, 1);
}
.block-color-default_background {
	color: inherit;
	fill: inherit;
}
.block-color-gray_background {
	background: rgba(248, 248, 247, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(248, 243, 252, 1);
}
.block-color-pink_background {
	background: rgba(252, 241, 246, 1);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-uiBlue { background-color: undefined; }
.select-value-color-pink { background-color: rgba(225, 136, 179, 0.27); }
.select-value-color-purple { background-color: rgba(168, 129, 197, 0.27); }
.select-value-color-green { background-color: rgba(123, 183, 129, 0.27); }
.select-value-color-gray { background-color: rgba(84, 72, 49, 0.15); }
.select-value-color-translucentGray { background-color: undefined; }
.select-value-color-orange { background-color: rgba(224, 124, 57, 0.27); }
.select-value-color-brown { background-color: rgba(210, 162, 141, 0.35); }
.select-value-color-red { background-color: rgba(244, 171, 159, 0.4); }
.select-value-color-yellow { background-color: rgba(236, 191, 66, 0.39); }
.select-value-color-blue { background-color: rgba(93, 165, 206, 0.27); }
.select-value-color-pageGlass { background-color: undefined; }
.select-value-color-washGlass { background-color: undefined; }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="2078d968-54a6-803d-b326-ebe674fb0ce0" class="page sans"><header><h1 class="page-title">Spring &amp; Spring Bootç¬”è®°3</h1><p class="page-description"></p></header><div class="page-body"><h1 id="s14" class="">ç¬¬14ç« ï¼šå®šæ—¶ä»»åŠ¡ä¸å¼‚æ­¥æ‰§è¡Œï¼ˆ@Scheduled + @Async å®ç°å®šæ—¶æ¸…ç†ã€ä»»åŠ¡åˆ†å‘ç­‰ï¼‰</h1><blockquote id="2078d968-54a6-804c-ab19-c5d08f63367a" class="">âœ… æœ¬ç« ç›®æ ‡ï¼š<ul id="2078d968-54a6-8014-8920-d2d3eed0fdc4" class="bulleted-list"><li style="list-style-type:disc">ä½¿ç”¨ <code>@Scheduled</code> å®ç°å®šæ—¶ä»»åŠ¡ï¼ˆå¦‚æ¯å¤©æ¸…ç†æ—¥å¿—ï¼‰</li></ul><ul id="2078d968-54a6-80ea-ab4e-c1788f33865f" class="bulleted-list"><li style="list-style-type:disc">ä½¿ç”¨ <code>@Async</code> å®ç°å¼‚æ­¥ä»»åŠ¡ï¼ˆå¦‚å‘é‚®ä»¶/é€šçŸ¥ç­‰ï¼‰</li></ul><ul id="2078d968-54a6-8071-9e4d-e617f2d23387" class="bulleted-list"><li style="list-style-type:disc">æ”¯æŒ cron è¡¨è¾¾å¼ï¼Œç²¾å‡†æ§åˆ¶ä»»åŠ¡è¿è¡Œæ—¶é—´</li></ul><ul id="2078d968-54a6-80f9-9e1c-e7d5c8230dd6" class="bulleted-list"><li style="list-style-type:disc">ç†è§£çº¿ç¨‹æ± é…ç½®ä¸çº¿ç¨‹å®‰å…¨å¤„ç†</li></ul><ul id="2078d968-54a6-8044-b6fb-e21671a0d076" class="bulleted-list"><li style="list-style-type:disc">ğŸŒŸ æ‹“å±•ï¼šä¼ä¸šé¡¹ç›®ä¸­å®šæ—¶ä»»åŠ¡è®¾è®¡ç­–ç•¥ + é¢è¯•é—®é¢˜æ€»ç»“</li></ul><ul id="2078d968-54a6-803e-a6db-de0412581e93" class="bulleted-list"><li style="list-style-type:disc">ğŸ“Œ æ‰€æœ‰ä»£ç å«è¯¦ç»†æ³¨é‡Šï¼Œå¸®åŠ©å½»åº•æŒæ¡å®æˆ˜åŸç†</li></ul></blockquote><hr id="2078d968-54a6-801e-86de-d3e5517640ed"/><h2 id="2078d968-54a6-80f3-8ef8-f8ea7506eff1" class="">1. åº”ç”¨åœºæ™¯è¯´æ˜</h2><table id="2078d968-54a6-80ed-88c9-d3a732547b1b" class="simple-table"><tbody><tr id="2078d968-54a6-8078-b013-e581733c7c2c"><td id="o|j&lt;" class="">ç±»å‹</td><td id="]T{P" class="">åœºæ™¯ç¤ºä¾‹</td></tr><tr id="2078d968-54a6-80b6-8458-d32dc2666fce"><td id="o|j&lt;" class="">å®šæ—¶ä»»åŠ¡</td><td id="]T{P" class="">æ¯å¤©å‡Œæ™¨æ¸…ç†ç¼“å­˜ã€å®šæœŸåŒæ­¥ç¬¬ä¸‰æ–¹æ¥å£æ•°æ®</td></tr><tr id="2078d968-54a6-80fd-a7aa-c442b5ffd48a"><td id="o|j&lt;" class="">å¼‚æ­¥ä»»åŠ¡</td><td id="]T{P" class="">ç”¨æˆ·æ³¨å†Œåå‘é€é‚®ä»¶é€šçŸ¥ã€å¯¼å‡º Excel æ—¶å¼‚æ­¥å¤„ç†</td></tr></tbody></table><hr id="2078d968-54a6-80d2-b2cc-e2210245bae0"/><h2 id="2078d968-54a6-8058-81ce-e6f2d0880ad1" class="">2. å¯ç”¨å®šæ—¶ä»»åŠ¡ä¸å¼‚æ­¥åŠŸèƒ½</h2><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-800f-b576-c57647d5fd22" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

@SpringBootApplication
@EnableScheduling   // å¯ç”¨å®šæ—¶ä»»åŠ¡
@EnableAsync        // å¯ç”¨å¼‚æ­¥ä»»åŠ¡
public class DemoApplication {
    public static void main(String[] args) {
        SpringApplication.run(DemoApplication.class, args);
    }
}

</code></pre><hr id="2078d968-54a6-8000-b085-c603ef1bdc70"/><h2 id="2078d968-54a6-80c4-b157-f132bd630e29" class="">3. å®šæ—¶ä»»åŠ¡ @Scheduled ä½¿ç”¨æ–¹æ³•</h2><hr id="2078d968-54a6-807b-bc4d-f501bbbf4c2c"/><h3 id="2078d968-54a6-80a1-8d4e-dc7219adbbe8" class="">âœ… ç¤ºä¾‹å®šæ—¶ä»»åŠ¡ç±»ï¼š</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-805d-8d2b-c5691faf3af4" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

@Component
public class ScheduledTask {

    // æ¯éš”5ç§’æ‰§è¡Œä¸€æ¬¡
    @Scheduled(fixedRate = 5000)
    public void runEvery5Sec() {
        System.out.println(&quot;æ¯5ç§’æ‰§è¡Œä¸€æ¬¡ï¼š&quot; + LocalTime.now());
    }

    // æ¯å¤©å‡Œæ™¨2ç‚¹æ‰§è¡Œ
    @Scheduled(cron = &quot;0 0 2 * * ?&quot;)
    public void cleanLogs() {
        System.out.println(&quot;æ¯å¤©å‡Œæ™¨2ç‚¹æ¸…ç†æ—¥å¿—ï¼š&quot; + LocalDate.now());
    }
}

</code></pre><p id="2078d968-54a6-80d6-84a3-f19cd87a88f4" class=""><code>@Scheduled</code> æ”¯æŒä¸‰ç§æ–¹å¼ï¼š</p><table id="2078d968-54a6-80b6-8308-f101b115a27f" class="simple-table"><tbody><tr id="2078d968-54a6-803f-b081-e93c7402b91a"><td id="FNJT" class="">å‚æ•°å</td><td id="xQ[A" class="">è¯´æ˜</td></tr><tr id="2078d968-54a6-8082-9f21-e93110399e14"><td id="FNJT" class=""><code>fixedRate</code></td><td id="xQ[A" class="">æ¯éš”å¤šä¹…æ‰§è¡Œä¸€æ¬¡ï¼ˆæ¯«ç§’ï¼‰</td></tr><tr id="2078d968-54a6-80a8-90c6-e44798f806ca"><td id="FNJT" class=""><code>fixedDelay</code></td><td id="xQ[A" class="">ä¸Šæ¬¡æ‰§è¡Œå®Œåéš”å¤šä¹…æ‰§è¡Œ</td></tr><tr id="2078d968-54a6-8071-a12c-c0c1b3cc87aa"><td id="FNJT" class=""><code>cron</code></td><td id="xQ[A" class="">Cron è¡¨è¾¾å¼ç»“æ„ï¼ˆ6ä½ï¼‰</td></tr></tbody></table><hr id="2078d968-54a6-80c0-ac34-e46306eb15e4"/><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-8080-88e9-d84c8810a7e8" class="code"><code class="language-Plain Text" style="white-space:pre-wrap;word-break:break-all">text

ç§’ åˆ† æ—¶ æ—¥ æœˆ æ˜ŸæœŸ

</code></pre><table id="2078d968-54a6-809f-8ec9-d7caf5d0aa17" class="simple-table"><tbody><tr id="2078d968-54a6-8064-8dc9-de896921b0c0"><td id="PKPG" class="">ç¤ºä¾‹</td><td id="Ad`=" class="">å«ä¹‰</td></tr><tr id="2078d968-54a6-8073-93d4-e0178b472c39"><td id="PKPG" class=""><code>0 0 0 * * ?</code></td><td id="Ad`=" class="">æ¯å¤©å‡Œæ™¨ 0 ç‚¹æ‰§è¡Œ</td></tr><tr id="2078d968-54a6-8046-a546-d9dfa12f25d4"><td id="PKPG" class=""><code>0 0 1 * * 1</code></td><td id="Ad`=" class="">æ¯å‘¨ä¸€å‡Œæ™¨ 1 ç‚¹æ‰§è¡Œ</td></tr><tr id="2078d968-54a6-8002-b41a-dc2605eb8f5b"><td id="PKPG" class=""><code>0 */10 * * * ?</code></td><td id="Ad`=" class="">æ¯ 10 åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡</td></tr></tbody></table><hr id="2078d968-54a6-80d5-b254-c8be2df929ee"/><h2 id="2078d968-54a6-80fd-8bde-e8e72fe6397b" class="">4. å¼‚æ­¥ä»»åŠ¡ @Async ä½¿ç”¨æ–¹æ³•</h2><hr id="2078d968-54a6-8031-91d8-e0c1d1a65528"/><h3 id="2078d968-54a6-805c-9ba8-efb3eca0990b" class="">âœ… ç¤ºä¾‹å¼‚æ­¥ä»»åŠ¡ç±»ï¼š</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-80f1-8922-e8221178ee1c" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

@Service
public class NotificationService {

    @Async
    public void sendEmail(String to, String message) {
        System.out.println(&quot;å‘é€é‚®ä»¶ä¸­ï¼š&quot; + to);
        try {
            Thread.sleep(3000); // æ¨¡æ‹Ÿè€—æ—¶
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
        System.out.println(&quot;é‚®ä»¶å‘é€å®Œæˆï¼š&quot; + message);
    }
}

</code></pre><hr id="2078d968-54a6-80cb-940a-f2b9a9e77664"/><h3 id="2078d968-54a6-80c4-9f5b-ec031944b2f3" class="">âœ… æ§åˆ¶å™¨è§¦å‘å¼‚æ­¥ä»»åŠ¡ï¼š</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-804d-88ec-e0486092cd67" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

@RestController
public class DemoController {

    @Autowired
    private NotificationService notificationService;

    @GetMapping(&quot;/send&quot;)
    public Result&lt;?&gt; send() {
        notificationService.sendEmail(&quot;user@example.com&quot;, &quot;æ¬¢è¿æ³¨å†Œï¼&quot;);
        return Result.success(&quot;å¼‚æ­¥å‘é€ä¸­&quot;);
    }
}

</code></pre><p id="2078d968-54a6-80bc-8a1b-fdf5746c61df" class="">âœ… è¯·æ±‚ <code>/send</code> æ¥å£åï¼Œä¼šç«‹å³è¿”å›ç»“æœï¼Œåå°å¼‚æ­¥å‘é€é‚®ä»¶ï¼ˆæ¨¡æ‹Ÿï¼‰ã€‚</p><hr id="2078d968-54a6-809f-8eac-ed4fa5413f63"/><h2 id="2078d968-54a6-80dd-a9d9-fae0a15151fb" class="">5. é…ç½®çº¿ç¨‹æ± ï¼ˆæ¨èï¼‰</h2><p id="2078d968-54a6-807a-a1cd-f3ccf9c9cf93" class="">å¼‚æ­¥/å®šæ—¶ä»»åŠ¡å»ºè®®ä½¿ç”¨è‡ªå®šä¹‰çº¿ç¨‹æ± ï¼Œæé«˜æ€§èƒ½ä¸å¯æ§æ€§ã€‚</p><hr id="2078d968-54a6-8035-80dc-d049e4f2aa87"/><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-806b-89fb-fe15ae0da89d" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

@Configuration
public class ThreadPoolConfig {

    @Bean
    public Executor taskExecutor() {
        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();

        executor.setCorePoolSize(5);      // æ ¸å¿ƒçº¿ç¨‹æ•°
        executor.setMaxPoolSize(10);      // æœ€å¤§çº¿ç¨‹æ•°
        executor.setQueueCapacity(100);   // é˜Ÿåˆ—å®¹é‡
        executor.setThreadNamePrefix(&quot;task-thread-&quot;);
        executor.initialize();

        return executor;
    }
}

</code></pre><p id="2078d968-54a6-801f-a8f3-c8a21e8d839e" class="">ğŸ“Œ Spring ä¼šè‡ªåŠ¨å°† <code>@Async</code> æ–¹æ³•ç»‘å®šåˆ°è¯¥çº¿ç¨‹æ± æ‰§è¡Œã€‚</p><hr id="2078d968-54a6-8021-8498-c9b1a80617f4"/><h2 id="2078d968-54a6-80f5-848e-d4c9531e2557" class="">6. æ³¨æ„äº‹é¡¹ä¸é”™è¯¯é˜²èŒƒ</h2><table id="2078d968-54a6-8013-b59b-e67493ce57d5" class="simple-table"><tbody><tr id="2078d968-54a6-8032-80a2-fb47b433df0e"><td id="fr?t" class="">é—®é¢˜</td><td id="BElF" class="">å»ºè®®</td></tr><tr id="2078d968-54a6-80f5-b83c-ed49500ebc87"><td id="fr?t" class=""><code>@Scheduled</code> ä¸ç”Ÿæ•ˆ</td><td id="BElF" class="">æ˜¯å¦åŠ äº† <code>@EnableScheduling</code>ï¼Ÿæ˜¯å¦æ˜¯ç»„ä»¶ï¼Ÿ</td></tr><tr id="2078d968-54a6-80ed-8e2a-fc6af10f1d7a"><td id="fr?t" class=""><code>@Async</code> æ— æ•ˆ</td><td id="BElF" class="">æ–¹æ³•å¿…é¡»æ˜¯ <code>public</code>ï¼Œä¸å¯åœ¨åŒç±»ä¸­ç›´æ¥è°ƒç”¨</td></tr><tr id="2078d968-54a6-8008-ab22-c31dc27a848b"><td id="fr?t" class="">å¼‚æ­¥æ‰§è¡Œå¼‚å¸¸æ— è¾“å‡º</td><td id="BElF" class="">éœ€è®¾ç½®å¼‚å¸¸å¤„ç†å™¨ï¼ˆæ‹“å±•ç±»è§åç»­ç« èŠ‚ï¼‰</td></tr><tr id="2078d968-54a6-80a0-9b8f-f8dbd3c59e9e"><td id="fr?t" class="">ä¸å»ºè®®åœ¨æ¥å£æ–¹æ³•ä¸Šç›´æ¥ <code>sleep</code></td><td id="BElF" class="">æ¨èè½¬äº¤ç»™ <code>@Async</code> æ–¹æ³•æ‰§è¡Œè€—æ—¶æ“ä½œ</td></tr></tbody></table><hr id="2078d968-54a6-8056-a100-d4b9e47bb9bf"/><h2 id="2078d968-54a6-80c8-bfc6-e0c32abbe41a" class="">ğŸ§  é¢è¯•å¼ºåŒ–é—®é¢˜</h2><hr id="2078d968-54a6-8059-b4fc-d77148391de6"/><h3 id="2078d968-54a6-8057-8931-e308070f7be4" class="">â“ Q1ï¼šå®šæ—¶ä»»åŠ¡ä¸­ fixedRate ä¸ fixedDelay æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><p id="2078d968-54a6-808a-96cf-f0b226bd9586" class="">âœ… å›ç­”è¦ç‚¹ï¼š</p><blockquote id="2078d968-54a6-8080-be84-dd86345058bd" class="">fixedRate æ˜¯ä»ä»»åŠ¡å¼€å§‹æ—¶é—´èµ·ç®—ï¼Œå‘¨æœŸæ€§æ‰§è¡Œï¼›fixedDelay æ˜¯ä»ä»»åŠ¡æ‰§è¡Œç»“æŸåèµ·ç®—ï¼Œæ›´é€‚åˆè€—æ—¶æ“ä½œé¿å…é‡å ã€‚</blockquote><hr id="2078d968-54a6-80fc-aed3-c96ad741d438"/><h3 id="2078d968-54a6-80ce-a92e-d5ed8a92eb4f" class="">â“ Q2ï¼š@Async çš„åº•å±‚å®ç°æœºåˆ¶æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p id="2078d968-54a6-8060-8fb6-df0e8ecb6543" class="">âœ… å›ç­”è¦ç‚¹ï¼š</p><blockquote id="2078d968-54a6-80e9-976e-f506c3d8f761" class="">Spring ä½¿ç”¨ JDK åŠ¨æ€ä»£ç†ï¼ˆæˆ– CGLIBï¼‰ç”Ÿæˆä»£ç†ç±»ï¼Œæ‹¦æˆªå¸¦ @Async æ³¨è§£çš„æ–¹æ³•ï¼Œå¹¶å°†å…¶æäº¤ç»™çº¿ç¨‹æ± å¼‚æ­¥æ‰§è¡Œã€‚</blockquote><hr id="2078d968-54a6-80fc-a724-d2cb6f948c3f"/><h3 id="2078d968-54a6-80c7-8d52-ed8948e12949" class="">â“ Q3ï¼šé¡¹ç›®ä¸­å¦‚ä½•é¿å…å®šæ—¶ä»»åŠ¡é‡å¤æ‰§è¡Œï¼ˆé›†ç¾¤ç¯å¢ƒï¼‰ï¼Ÿ</h3><p id="2078d968-54a6-8052-862c-f40b7b2a2bea" class="">âœ… æ‹“å±•å»ºè®®ï¼š</p><blockquote id="2078d968-54a6-802d-bd00-e761f3af4088" class="">ä½¿ç”¨åˆ†å¸ƒå¼é”ï¼ˆå¦‚ Redis + setnxï¼‰æˆ–ä½¿ç”¨ Quartz + æ•°æ®åº“æŒä¹…åŒ–ä»»åŠ¡ä¿¡æ¯ï¼ˆåç»­ç« èŠ‚è®²è§£ï¼‰</blockquote><hr id="2078d968-54a6-809e-b663-f6ad2030ac2f"/><h2 id="2078d968-54a6-802a-b921-f01b78edf821" class="">ğŸ“š å°ç»“å›é¡¾</h2><table id="2078d968-54a6-809d-bd2b-f5824d21127e" class="simple-table"><tbody><tr id="2078d968-54a6-8071-994d-f8f6ebabc241"><td id="CbCf" class="">åŠŸèƒ½ç‚¹</td><td id="G_Vn" class="">è¯´æ˜</td></tr><tr id="2078d968-54a6-8075-acab-cec8217a3a99"><td id="CbCf" class=""><code>@Scheduled</code></td><td id="G_Vn" class="">å®ç°å‘¨æœŸæ€§ä»»åŠ¡ï¼Œæ”¯æŒ <code>fixedRate</code> ä¸ cron</td></tr><tr id="2078d968-54a6-8067-b0ab-f49dd7f9622f"><td id="CbCf" class=""><code>@Async</code></td><td id="G_Vn" class="">å°†ä»»åŠ¡æ”¾å…¥çº¿ç¨‹æ± åå°æ‰§è¡Œ</td></tr><tr id="2078d968-54a6-80e4-a974-ea3f30e0d7b7"><td id="CbCf" class=""><code>Executor</code></td><td id="G_Vn" class="">è‡ªå®šä¹‰çº¿ç¨‹æ± ï¼Œæ”¯æŒè°ƒä¼˜ä¸æ—¥å¿—æ ‡è¯†</td></tr><tr id="2078d968-54a6-8015-822c-f450b4687628"><td id="CbCf" class="">cron è¡¨è¾¾å¼</td><td id="G_Vn" class="">ç²¾ç¡®æ§åˆ¶ä»»åŠ¡è¿è¡Œæ—¶é—´</td></tr><tr id="2078d968-54a6-806b-8aa6-fefe1da7f642"><td id="CbCf" class="">å¸¸è§è¯¯åŒºä¸è§£å†³æ–¹æ¡ˆ</td><td id="G_Vn" class="">ç»„ä»¶æœªæ³¨å†Œã€æ–¹æ³•é publicã€è°ƒç”¨æ–¹å¼é”™è¯¯</td></tr></tbody></table><p id="2078d968-54a6-8004-b4f4-ff009d2a3fac" class="">
</p><p id="2078d968-54a6-802c-a706-c01ab0eee4ae" class="">
</p><p id="2078d968-54a6-80ec-b584-caa480168c36" class="">
</p><p id="2078d968-54a6-8068-a685-c5e6540776eb" class="">
</p><p id="2078d968-54a6-8029-9645-f945b2a10399" class="">
</p><h1 id="s15" class="">ç¬¬15ç« ï¼šé‚®ä»¶å‘é€ã€é€šçŸ¥æ¨é€ä¸ç¬¬ä¸‰æ–¹ API è”åŠ¨å®æˆ˜</h1><blockquote id="2078d968-54a6-8030-a4db-f3f582e20384" class="">âœ… æœ¬ç« ç›®æ ‡ï¼š<ul id="2078d968-54a6-80c6-b4d4-e05f5c29f584" class="bulleted-list"><li style="list-style-type:disc">ä½¿ç”¨ Spring Boot å†…ç½® JavaMailSender å‘é€é‚®ä»¶</li></ul><ul id="2078d968-54a6-8038-8c23-debb9fc4d27d" class="bulleted-list"><li style="list-style-type:disc">å®ç°æ³¨å†Œæ¿€æ´»/å¿˜è®°å¯†ç ç­‰é‚®ä»¶é€šçŸ¥åœºæ™¯</li></ul><ul id="2078d968-54a6-8075-aac1-e0a71a8a7050" class="bulleted-list"><li style="list-style-type:disc">å®ç°ä¸ç¬¬ä¸‰æ–¹ç³»ç»Ÿ Webhook é€šä¿¡</li></ul><ul id="2078d968-54a6-803f-8851-db49712fe0d2" class="bulleted-list"><li style="list-style-type:disc">æ”¯æŒå¼‚æ­¥å‘é€ã€HTML æ¨¡æ¿é‚®ä»¶ã€è‡ªå®šä¹‰æ ‡é¢˜ä¸å†…å®¹</li></ul><ul id="2078d968-54a6-809d-b29d-fc7c731a9333" class="bulleted-list"><li style="list-style-type:disc">ğŸŒŸ æ‹“å±•ï¼šé‚®ä»¶å®‰å…¨é˜²æŠ¤æœºåˆ¶ + é¢è¯•é‡ç‚¹ + çœŸå®ç³»ç»Ÿæ¡ˆä¾‹</li></ul><ul id="2078d968-54a6-80d4-95b5-ea34a075fa84" class="bulleted-list"><li style="list-style-type:disc">ğŸ“Œ æ‰€æœ‰ä»£ç é…è¯¦ç»†æ³¨é‡Šï¼Œå®Œæ•´è¦†ç›–é‚®ä»¶ä¸æ¨é€çš„å®æˆ˜æµç¨‹</li></ul></blockquote><hr id="2078d968-54a6-8057-9bef-e115b5df76e5"/><h2 id="2078d968-54a6-8036-8ba7-f22c9635e740" class="">1. åº”ç”¨åœºæ™¯ä¸¾ä¾‹</h2><table id="2078d968-54a6-801d-9972-eee8d7754dc0" class="simple-table"><tbody><tr id="2078d968-54a6-80f6-b4ed-c096f94dd51e"><td id="}dII" class="">åŠŸèƒ½éœ€æ±‚</td><td id="Vl[J" class="">å®é™…ç”¨é€”</td></tr><tr id="2078d968-54a6-80e2-9cf7-d828bdea1108"><td id="}dII" class="">é‚®ä»¶é€šçŸ¥</td><td id="Vl[J" class="">ç”¨æˆ·æ³¨å†Œã€æ‰¾å›å¯†ç ã€ç³»ç»Ÿé¢„è­¦ã€å®¡æ‰¹ç»“æœé€šçŸ¥ç­‰</td></tr><tr id="2078d968-54a6-8032-b1f7-c42a22b8a5a0"><td id="}dII" class="">Webhook è”åŠ¨</td><td id="Vl[J" class="">è®¢å•çŠ¶æ€é€šçŸ¥å¤–éƒ¨ç³»ç»Ÿã€æ¶ˆæ¯æ¨é€ç»™ Slack/å¾®ä¿¡æœºå™¨äºº</td></tr><tr id="2078d968-54a6-80f3-9f7e-f5c3d76bc347"><td id="}dII" class="">HTML é‚®ä»¶</td><td id="Vl[J" class="">å¸¦æ ¼å¼å†…å®¹ã€æŒ‰é’®ã€é“¾æ¥ç­‰ï¼Œæå‡ç”¨æˆ·ä½“éªŒ</td></tr></tbody></table><hr id="2078d968-54a6-805a-bd4c-d5a186649989"/><h2 id="2078d968-54a6-806a-80f3-f2c822e210b5" class="">2. æ·»åŠ  Java Mail ä¾èµ–</h2><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-801c-9613-fd5c5c13cb21" class="code"><code class="language-XML" style="white-space:pre-wrap;word-break:break-all">xml

&lt;dependency&gt;
  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
  &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;
&lt;/dependency&gt;

</code></pre><hr id="2078d968-54a6-8062-8a26-dbc5e18d4b76"/><h2 id="2078d968-54a6-8037-bcd8-e4aee7ee8dbc" class="">3. é…ç½®é‚®ä»¶å‘é€æœåŠ¡</h2><p id="2078d968-54a6-8006-ac6d-df36275daa23" class="">ä»¥ QQ é‚®ç®±ä¸ºä¾‹ï¼ˆæ”¯æŒ SSLï¼‰ï¼š</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-80e3-8634-ff1bda700376" class="code"><code class="language-YAML" style="white-space:pre-wrap;word-break:break-all">yaml

spring:
  mail:
    host: smtp.qq.com
    port: 465
    username: your_email@qq.com
    password: é‚®ç®±æˆæƒç ï¼ˆéç™»å½•å¯†ç ï¼‰
    protocol: smtps
    default-encoding: UTF-8
    properties:
      mail:
        smtp:
          auth: true
          ssl:
            enable: true

</code></pre><p id="2078d968-54a6-80cf-a178-db6bcb993f21" class="">ğŸ“Œ æ³¨æ„ï¼šQQã€ç½‘æ˜“é‚®ç®±ç­‰éœ€å¼€å¯ã€ŒSMTPæœåŠ¡ã€å¹¶ç”Ÿæˆ<strong>æˆæƒç </strong>ï¼ˆä¸æ˜¯å¯†ç ï¼‰</p><hr id="2078d968-54a6-8000-bb10-cfd64b4e8309"/><h2 id="2078d968-54a6-801f-bd39-cecb4f8c068b" class="">4. ç¼–å†™é‚®ä»¶å‘é€æœåŠ¡</h2><hr id="2078d968-54a6-804d-868c-f6ef4a6cefe5"/><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-80f2-a03a-c61b5f931289" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

@Service
public class MailService {

    @Autowired
    private JavaMailSender mailSender;

    @Value(&quot;${spring.mail.username}&quot;)
    private String from;

    // å‘é€çº¯æ–‡æœ¬é‚®ä»¶
    public void sendSimpleMail(String to, String subject, String text) {
        SimpleMailMessage message = new SimpleMailMessage();

        message.setFrom(from);         // å‘ä»¶äºº
        message.setTo(to);             // æ”¶ä»¶äºº
        message.setSubject(subject);   // ä¸»é¢˜
        message.setText(text);         // å†…å®¹

        mailSender.send(message);      // å‘é€
    }
}

</code></pre><hr id="2078d968-54a6-8056-9632-dbe89f9655cd"/><h2 id="2078d968-54a6-8095-908f-e4b703f99dc9" class="">5. æ§åˆ¶å™¨æµ‹è¯•å‘é€é‚®ä»¶</h2><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-8042-981c-dbf110421a68" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

@RestController
public class MailController {

    @Autowired
    private MailService mailService;

    @GetMapping(&quot;/mail/send&quot;)
    public Result&lt;?&gt; sendMail() {
        mailService.sendSimpleMail(&quot;target@example.com&quot;, &quot;æµ‹è¯•é‚®ä»¶&quot;, &quot;ä½ å¥½ï¼Œè¿™æ˜¯æµ‹è¯•é‚®ä»¶å†…å®¹ï¼&quot;);
        return Result.success(&quot;é‚®ä»¶å·²å‘é€&quot;);
    }
}

</code></pre><hr id="2078d968-54a6-801e-9c27-efe1be70f59d"/><h2 id="2078d968-54a6-80eb-8bab-f94687c53468" class="">6. å®ç° HTML æ¨¡æ¿é‚®ä»¶ï¼ˆä½¿ç”¨ MimeMessageï¼‰</h2><hr id="2078d968-54a6-80e4-8ccb-c18cc41bc184"/><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-802d-a8dc-f645296dfe08" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

public void sendHtmlMail(String to, String subject, String html) {
    try {
        MimeMessage message = mailSender.createMimeMessage();
        MimeMessageHelper helper = new MimeMessageHelper(message, true);

        helper.setFrom(from);
        helper.setTo(to);
        helper.setSubject(subject);
        helper.setText(html, true); // ç¬¬äºŒä¸ªå‚æ•°ï¼šæ˜¯å¦ HTML

        mailSender.send(message);
    } catch (Exception e) {
        throw new RuntimeException(&quot;é‚®ä»¶å‘é€å¤±è´¥ï¼š&quot; + e.getMessage());
    }
}

</code></pre><p id="2078d968-54a6-8030-8680-c99007caf4bc" class="">âœ… ç¤ºä¾‹ HTML å†…å®¹ï¼š</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-806b-8660-f6112afbafca" class="code"><code class="language-HTML" style="white-space:pre-wrap;word-break:break-all">html

&lt;h3&gt;æ¬¢è¿æ³¨å†Œæœ¬ç«™ï¼&lt;/h3&gt;
&lt;p&gt;ç‚¹å‡»ä»¥ä¸‹é“¾æ¥æ¿€æ´»è´¦æˆ·ï¼š&lt;/p&gt;
&lt;a href=&quot;http://localhost:8080/verify?token=abc123&quot;&gt;æ¿€æ´»è´¦å·&lt;/a&gt;

</code></pre><hr id="2078d968-54a6-8060-a225-f7d922bca371"/><h2 id="2078d968-54a6-80e8-b841-ec4a8c070959" class="">7. å®ç° Webhook æ¨é€æ¥å£ï¼ˆå¦‚é’‰é’‰/å¾®ä¿¡æœºå™¨äººï¼‰</h2><hr id="2078d968-54a6-80fd-9996-fc4a053d5d61"/><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-805d-972f-dc3e38968734" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

public void sendWebhook(String webhookUrl, String jsonPayload) {
    RestTemplate restTemplate = new RestTemplate();
    HttpHeaders headers = new HttpHeaders();
    headers.setContentType(MediaType.APPLICATION_JSON);

    HttpEntity&lt;String&gt; request = new HttpEntity&lt;&gt;(jsonPayload, headers);
    restTemplate.postForEntity(webhookUrl, request, String.class);
}

</code></pre><p id="2078d968-54a6-8043-ae9e-d78784db9df8" class="">âœ… ç¤ºä¾‹è°ƒç”¨ï¼š</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-802a-bb32-d1aba383e4f9" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java
å¤åˆ¶ç¼–è¾‘
String json = &quot;{\&quot;msgtype\&quot;: \&quot;text\&quot;, \&quot;text\&quot;: {\&quot;content\&quot;: \&quot;ç³»ç»Ÿå·²å¤„ç†å®Œè®¢å•ã€‚\&quot;}}&quot;;
String url = &quot;https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=xxx&quot;;
sendWebhook(url, json);

</code></pre><hr id="2078d968-54a6-80c4-bcd2-f75ffa8568a5"/><h2 id="2078d968-54a6-8081-9cb1-f390052c9cfb" class="">8. é‚®ä»¶å‘é€æ³¨æ„äº‹é¡¹ä¸å®‰å…¨é˜²æŠ¤</h2><table id="2078d968-54a6-8031-be67-ca2d00ac3590" class="simple-table"><tbody><tr id="2078d968-54a6-809b-8be3-e2afde8c1f82"><td id="Hb]T" class="">é¡¹ç›®</td><td id="`Vwm" class="">å»ºè®®</td></tr><tr id="2078d968-54a6-809e-b7f9-f8b611b6473c"><td id="Hb]T" class="">å‘ä»¶äºº</td><td id="`Vwm" class="">å»ºè®®ç»Ÿä¸€ä¸ºå…¬å¸ç³»ç»Ÿä¸“ç”¨é‚®ç®±</td></tr><tr id="2078d968-54a6-8099-8910-d60de65db7fe"><td id="Hb]T" class="">æˆæƒç </td><td id="`Vwm" class="">åˆ‡å‹¿å°†æˆæƒç ç¡¬ç¼–ç åˆ°é¡¹ç›®ä¸­ï¼ˆå»ºè®®ä½¿ç”¨é…ç½®ä¸­å¿ƒ/ç¯å¢ƒå˜é‡ï¼‰</td></tr><tr id="2078d968-54a6-8014-b784-f9834183dcef"><td id="Hb]T" class="">HTML å®‰å…¨æ€§</td><td id="`Vwm" class="">é˜²æ­¢ XSSï¼Œæ‰€æœ‰ç”¨æˆ·è¾“å…¥éœ€ HTML è½¬ä¹‰</td></tr><tr id="2078d968-54a6-80da-a796-f3a5b75acc60"><td id="Hb]T" class="">é¢‘ç‡é™åˆ¶</td><td id="`Vwm" class="">æ§åˆ¶æ³¨å†ŒéªŒè¯ç ç­‰åœºæ™¯ä¸‹çš„å‘é€é¢‘ç‡</td></tr><tr id="2078d968-54a6-800e-875c-c86a3fb49d44"><td id="Hb]T" class="">å¼‚æ­¥å‘é€</td><td id="`Vwm" class="">é‚®ä»¶å‘é€è¿‡ç¨‹åº”æ”¾åœ¨ <code>@Async</code> æ–¹æ³•ä¸­é¿å…é˜»å¡æ¥å£å“åº”</td></tr></tbody></table><hr id="2078d968-54a6-80f3-b256-d6ec2498a6df"/><h2 id="2078d968-54a6-80e2-b53f-c870f2190fa9" class="">ğŸ§  é¢è¯•å¼ºåŒ–é—®é¢˜</h2><hr id="2078d968-54a6-8042-89f2-db16095205c8"/><h3 id="2078d968-54a6-803d-9fdb-e832e7cb3d05" class="">â“ Q1ï¼šä½ é¡¹ç›®ä¸­æ˜¯å¦ç”¨è¿‡é‚®ä»¶å‘é€åŠŸèƒ½ï¼Ÿå¦‚ä½•å®ç°çš„ï¼Ÿ</h3><p id="2078d968-54a6-802d-ac44-fa5c599c3292" class="">âœ… å›ç­”è¦ç‚¹ï¼š</p><blockquote id="2078d968-54a6-808c-8415-d9a21e5df687" class="">æ˜¯çš„ï¼Œæˆ‘ä»¬ä½¿ç”¨ Spring Boot çš„ JavaMailSender å®ç°é‚®ä»¶é€šçŸ¥ï¼Œæ”¯æŒçº¯æ–‡æœ¬ä¸ HTML é‚®ä»¶ï¼Œå°è£…æˆ MailService ç±»ï¼Œæä¾›æ³¨å†Œã€å¯†ç æ‰¾å›ã€å®¡æ‰¹é€šçŸ¥ç­‰åŠŸèƒ½ï¼Œéƒ¨åˆ†é‚®ä»¶é‡‡ç”¨å¼‚æ­¥å‘é€æé«˜æ€§èƒ½ã€‚</blockquote><hr id="2078d968-54a6-8052-a67f-f3e919fe45b2"/><h3 id="2078d968-54a6-80aa-9aec-cc0869c5cfaa" class="">â“ Q2ï¼šWebHook é€šä¿¡ä¸æ™®é€šæ¥å£è°ƒç”¨æœ‰ä½•ä¸åŒï¼Ÿ</h3><p id="2078d968-54a6-80d8-9ba5-f59d89ff9bf5" class="">âœ… å›ç­”è¦ç‚¹ï¼š</p><blockquote id="2078d968-54a6-806c-9b72-f7e8c6d149e1" class="">Webhook æ˜¯ä¸€ç§ã€Œåå‘é€šçŸ¥æœºåˆ¶ã€ï¼Œé€šå¸¸ç”¨äºå½“ä¸€ä¸ªäº‹ä»¶å‘ç”Ÿæ—¶ä¸»åŠ¨å‘æŒ‡å®š URL å‘é€ POST è¯·æ±‚ï¼Œå®ç°è·¨ç³»ç»Ÿçš„æ•°æ®è”åŠ¨ï¼Œä¾‹å¦‚è®¢å•çŠ¶æ€åŒæ­¥åˆ° ERPã€å¼‚å¸¸é€šçŸ¥åˆ° Slack/é’‰é’‰ç¾¤ç­‰ã€‚</blockquote><hr id="2078d968-54a6-80fe-aa23-ea8a4fabe381"/><h3 id="2078d968-54a6-8086-80f0-dd6946230f3e" class="">â“ Q3ï¼šå¦‚ä½•ä¿è¯é‚®ä»¶å‘é€ä¸å½±å“ä¸»ä¸šåŠ¡æµç¨‹ï¼Ÿ</h3><p id="2078d968-54a6-80cb-97cb-e340b3268aac" class="">âœ… å›ç­”è¦ç‚¹ï¼š</p><blockquote id="2078d968-54a6-80b9-bfff-daa93df8bb34" class="">é‚®ä»¶ä»»åŠ¡ä½¿ç”¨ @Async æ³¨è§£å¼‚æ­¥å¤„ç†ï¼›å‘é€å¤±è´¥è‡ªåŠ¨é‡è¯•æˆ–è®°å½•æ—¥å¿—ï¼›æ§åˆ¶é‚®ä»¶å‘é€é¢‘ç‡å¹¶é¿å…å¯¹ä¸»çº¿ç¨‹é€ æˆé˜»å¡ã€‚</blockquote><hr id="2078d968-54a6-805f-abc2-fed40e1a42fb"/><h2 id="2078d968-54a6-80d0-83e5-daec0df7e154" class="">ğŸ“š å°ç»“å›é¡¾</h2><table id="2078d968-54a6-8038-a763-d0522cb0e630" class="simple-table"><tbody><tr id="2078d968-54a6-804f-bebe-d8cbcf9d8357"><td id="tOfw" class="">åŠŸèƒ½é¡¹</td><td id=";RI?" class="">å†…å®¹è¯´æ˜</td></tr><tr id="2078d968-54a6-804e-997c-ee757b5e43a0"><td id="tOfw" class="">ç®€å•é‚®ä»¶</td><td id=";RI?" class="">ä½¿ç”¨ <code>SimpleMailMessage</code> å‘é€</td></tr><tr id="2078d968-54a6-8045-8862-dad4dd9cded6"><td id="tOfw" class="">HTML é‚®ä»¶</td><td id=";RI?" class="">ä½¿ç”¨ <code>MimeMessageHelper</code> è®¾ç½®æ ¼å¼å†…å®¹</td></tr><tr id="2078d968-54a6-8001-a6a7-ce756a298757"><td id="tOfw" class="">æˆæƒç é…ç½®</td><td id=";RI?" class="">éœ€é…ç½® SMTP æœåŠ¡ + é‚®ç®±æˆæƒç </td></tr><tr id="2078d968-54a6-806a-9e73-c94e3dfcc71a"><td id="tOfw" class="">Webhook æ¨é€</td><td id=";RI?" class="">é€šè¿‡ RestTemplate å‘å¤–éƒ¨ç³»ç»Ÿä¸»åŠ¨æ¨é€</td></tr><tr id="2078d968-54a6-804f-b8a5-dd3b2dfd7c94"><td id="tOfw" class="">å¼‚æ­¥å¤„ç†å»ºè®®</td><td id=";RI?" class="">å»ºè®®ä½¿ç”¨ <code>@Async</code> æ‰§è¡Œé€šçŸ¥ç±»ä»»åŠ¡</td></tr></tbody></table><p id="2078d968-54a6-803e-a5a9-d9e083c2b4a6" class="">
</p><p id="2078d968-54a6-8056-b1fd-c19ce31b54d8" class="">
</p><p id="2078d968-54a6-80fe-8cb9-c817a93682f3" class="">
</p><p id="2078d968-54a6-805e-ae44-cd8131f6e0ba" class="">
</p><p id="2078d968-54a6-8009-9e2f-c6f5b6c5c4a4" class="">
</p><h1 id="s16" class="">ç¬¬16ç« ï¼šè·¨åŸŸè¯·æ±‚å¤„ç†ï¼ˆCORS é…ç½®ä¸å‰åç«¯åˆ†ç¦»å®æˆ˜ï¼‰</h1><blockquote id="2078d968-54a6-8096-bf2e-cb2c344aa3ac" class="">âœ… æœ¬ç« ç›®æ ‡ï¼š<ul id="2078d968-54a6-80e4-b9e8-dfbf9027047f" class="bulleted-list"><li style="list-style-type:disc">ç†è§£ä»€ä¹ˆæ˜¯è·¨åŸŸï¼ˆCORSï¼‰ä¸ä¸ºä»€ä¹ˆä¼šè¢«æµè§ˆå™¨æ‹¦æˆª</li></ul><ul id="2078d968-54a6-807a-a588-c6be8ce054d1" class="bulleted-list"><li style="list-style-type:disc">æŒæ¡åç«¯å¦‚ä½•æ­£ç¡®é…ç½®è·¨åŸŸå…è®¸è§„åˆ™</li></ul><ul id="2078d968-54a6-80ad-a264-c05c5c6f8dc0" class="bulleted-list"><li style="list-style-type:disc">å®ç°å…¨å±€è·¨åŸŸã€å±€éƒ¨è·¨åŸŸã€é…ç½®æ–‡ä»¶æ§åˆ¶ç­‰å¤šç§æ–¹å¼</li></ul><ul id="2078d968-54a6-8085-abd4-eeaab55bcde7" class="bulleted-list"><li style="list-style-type:disc">ğŸŒŸ æ‹“å±•ï¼šå¸¸è§è·¨åŸŸé”™è¯¯è°ƒè¯• + é¢è¯•é—®é¢˜å¼ºåŒ–</li></ul><ul id="2078d968-54a6-8003-9518-c5e739a857c9" class="bulleted-list"><li style="list-style-type:disc">ğŸ“Œ é…å¥—ä»£ç å‡å«æ³¨é‡Šï¼Œç¡®ä¿å®é™…å¼€å‘ä¸­å¿«é€Ÿè§£å†³è·¨åŸŸé—®é¢˜</li></ul></blockquote><hr id="2078d968-54a6-807c-b38c-de7ee34d6958"/><h2 id="2078d968-54a6-80d6-94e8-c1911bafebff" class="">1. ä»€ä¹ˆæ˜¯è·¨åŸŸï¼Ÿä¸ºä»€ä¹ˆä¼šè·¨åŸŸï¼Ÿ</h2><p id="2078d968-54a6-800d-b40f-f293d15fc4b6" class="">æµè§ˆå™¨çš„åŒæºç­–ç•¥è§„å®šï¼š<strong>åè®®ã€åŸŸåã€ç«¯å£å·å®Œå…¨ä¸€è‡´</strong>æ‰èƒ½å‘é€ Ajax è¯·æ±‚ã€‚</p><h3 id="2078d968-54a6-80c6-80f3-cb24092307e5" class="">âœ… ä¸¾ä¾‹ï¼š</h3><table id="2078d968-54a6-8015-9c9d-ef1ec91f232e" class="simple-table"><tbody><tr id="2078d968-54a6-808e-a22e-df3d98f171e7"><td id="nHw&gt;" class="">å‰ç«¯åœ°å€</td><td id="bUP`" class="">åç«¯åœ°å€</td><td id="O&lt;rw" class="">æ˜¯å¦åŒæº</td></tr><tr id="2078d968-54a6-809a-9857-fdde251bfd8a"><td id="nHw&gt;" class=""><a href="http://localhost:3000/">http://localhost:3000</a></td><td id="bUP`" class=""><a href="http://localhost:8080/">http://localhost:8080</a></td><td id="O&lt;rw" class="">âŒ</td></tr><tr id="2078d968-54a6-80d8-a6a0-d2f064afb947"><td id="nHw&gt;" class=""><a href="https://example.com/">https://example.com</a></td><td id="bUP`" class=""><a href="http://example.com/">http://example.com</a></td><td id="O&lt;rw" class="">âŒ</td></tr><tr id="2078d968-54a6-80ff-8993-f2eec510d694"><td id="nHw&gt;" class="">http://a.example.com</td><td id="bUP`" class="">http://b.example.com</td><td id="O&lt;rw" class="">âŒ</td></tr></tbody></table><p id="2078d968-54a6-8067-94be-faa6c99818e5" class="">âš ï¸ è‹¥å‰ç«¯è¯·æ±‚è·¨åŸŸï¼Œæµè§ˆå™¨ä¼šå‘å‡º <code>OPTIONS</code> é¢„æ£€è¯·æ±‚ï¼Œå¹¶å¯èƒ½è¢«æ‹’ç»ã€‚</p><hr id="2078d968-54a6-80ff-b14f-f39b4b7692ff"/><h2 id="2078d968-54a6-806c-994f-f1b3f7002906" class="">2. å¿«é€Ÿä¿®å¤è·¨åŸŸï¼šå…¨å±€å…è®¸ CORS</h2><hr id="2078d968-54a6-8098-8013-c6e43e4e63f3"/><h3 id="2078d968-54a6-80ac-bc17-f7a0ebada8f7" class="">æ–¹æ³•ä¸€ï¼šé…ç½®è·¨åŸŸæ‹¦æˆªå™¨ï¼ˆæ¨èï¼‰</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-8094-bbda-d088bd116e8a" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

@Configuration
public class CorsConfig implements WebMvcConfigurer {

    @Override
    public void addCorsMappings(CorsRegistry registry) {
        registry.addMapping(&quot;/**&quot;)                // å…è®¸æ‰€æœ‰è·¯å¾„
                .allowedOriginPatterns(&quot;*&quot;)       // å…è®¸æ‰€æœ‰æ¥æºï¼ˆå‰ç«¯åœ°å€ï¼‰
                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;)
                .allowedHeaders(&quot;*&quot;)              // å…è®¸æ‰€æœ‰è¯·æ±‚å¤´
                .allowCredentials(true)           // å…è®¸æºå¸¦ cookie
                .maxAge(3600);                    // ç¼“å­˜æœ‰æ•ˆæ—¶é—´
    }
}

</code></pre><p id="2078d968-54a6-80f2-b748-c92ddf51a5cd" class="">ğŸ“Œ æ·»åŠ æ­¤ç±»åï¼ŒSpring Boot å…¨å±€è·¨åŸŸè®¾ç½®å°±ç”Ÿæ•ˆäº†ã€‚</p><hr id="2078d968-54a6-80ac-bc0d-c10512346d71"/><h3 id="2078d968-54a6-8003-94ee-ef3d8772d362" class="">æ–¹æ³•äºŒï¼šæ³¨è§£å¼å±€éƒ¨å…è®¸è·¨åŸŸ</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-802c-835f-c537baae3edc" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

@CrossOrigin(origins = &quot;http://localhost:3000&quot;, allowCredentials = &quot;true&quot;)
@RestController
public class UserController {

    @GetMapping(&quot;/user&quot;)
    public String getUser() {
        return &quot;ç”¨æˆ·åï¼šå¼ ä¸‰&quot;;
    }
}

</code></pre><p id="2078d968-54a6-80a9-a73a-d2a65a092dcd" class="">ğŸ“Œ é€‚ç”¨äºéœ€è¦ç²¾ç¡®æ§åˆ¶çš„æ¥å£ï¼Œä½†ä¸æ¨èå¤§é¡¹ç›®ä½¿ç”¨è¿™ç§â€œåˆ°å¤„è´´â€çš„æ–¹å¼ã€‚</p><hr id="2078d968-54a6-808c-a1d3-c860b5910f1e"/><h2 id="2078d968-54a6-80a1-af65-dfab2c181ce9" class="">3. æµè§ˆå™¨è·¨åŸŸè¯·æ±‚æµç¨‹ï¼ˆåŒ…å«é¢„æ£€ï¼‰</h2><table id="2078d968-54a6-80b7-a677-f6ea25a7170c" class="simple-table"><tbody><tr id="2078d968-54a6-806b-a19f-fb299b5d7b1a"><td id="VEnI" class="">æ­¥éª¤</td><td id="KKpI" class="">è¯´æ˜</td></tr><tr id="2078d968-54a6-8033-8047-d12e43286dc7"><td id="VEnI" class="">1</td><td id="KKpI" class="">æµè§ˆå™¨å‘å‡º OPTIONS è¯·æ±‚ï¼ˆé¢„æ£€è¯·æ±‚ï¼‰</td></tr><tr id="2078d968-54a6-8011-97af-e3831c7222b6"><td id="VEnI" class="">2</td><td id="KKpI" class="">åç«¯å“åº” 200ï¼ŒåŒ…å« <code>Access-Control-*</code> å¤´</td></tr><tr id="2078d968-54a6-8000-b0ab-d958dc17f98c"><td id="VEnI" class="">3</td><td id="KKpI" class="">æµè§ˆå™¨å†å‘å®é™…è¯·æ±‚ï¼ˆå¦‚ POSTï¼‰</td></tr></tbody></table><p id="2078d968-54a6-808f-be54-fb41d0bb8a8f" class="">ğŸ“Œ è‹¥é¢„æ£€å¤±è´¥ï¼Œåˆ™å®é™…è¯·æ±‚ä¸ä¼šè¢«å‘é€ã€‚</p><hr id="2078d968-54a6-8045-8513-d1d4abf871a7"/><h2 id="2078d968-54a6-8007-af98-d6aea87d5658" class="">4. å‰ç«¯å¦‚ä½•å‘é€è·¨åŸŸè¯·æ±‚ï¼ˆä»¥ fetch ä¸ºä¾‹ï¼‰</h2><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-8016-b2ce-d793f555f075" class="code"><code class="language-Plain Text" style="white-space:pre-wrap;word-break:break-all">js

fetch(&quot;http://localhost:8080/api/user&quot;, {
  method: &quot;POST&quot;,
  headers: {
    &quot;Content-Type&quot;: &quot;application/json&quot;
  },
  credentials: &quot;include&quot;, // å¿…é¡»æ·»åŠ è¿™å¥æ‰ä¼šå¸¦ cookie
  body: JSON.stringify({ name: &quot;Tom&quot; })
})

</code></pre><h3 id="2078d968-54a6-8095-908d-fccc0b718630" class="">å‰ç«¯å¿…é¡»æ»¡è¶³ï¼š</h3><ul id="2078d968-54a6-8059-a8dc-ffc91d2568e0" class="bulleted-list"><li style="list-style-type:disc"><code>credentials: &#x27;include&#x27;</code></li></ul><ul id="2078d968-54a6-809a-a215-e4b10708ae74" class="bulleted-list"><li style="list-style-type:disc">åç«¯ <code>allowCredentials(true)</code></li></ul><ul id="2078d968-54a6-8084-8319-c1dc76e71c48" class="bulleted-list"><li style="list-style-type:disc"><code>allowedOriginPatterns</code> ä¸èƒ½ä¸º <code>&quot;*&quot;</code>ï¼Œå¿…é¡»æ˜ç¡®æˆ–ç”¨ Spring Boot çš„ <code>allowedOriginPatterns(&quot;*&quot;)</code></li></ul><hr id="2078d968-54a6-80b6-9463-e888eaf2cbc7"/><h2 id="2078d968-54a6-8091-b450-d9423fe20b0d" class="">5. å¸¸è§è·¨åŸŸé—®é¢˜ä¸è§£å†³å»ºè®®</h2><table id="2078d968-54a6-8074-84a0-e44a77442a0a" class="simple-table"><tbody><tr id="2078d968-54a6-8013-bac3-c063e1f5d001"><td id="lMUR" class="">é—®é¢˜</td><td id="hJIY" class="">åŸå› /è§£å†³æ–¹æ¡ˆ</td></tr><tr id="2078d968-54a6-807d-ac81-ed102b44cf6e"><td id="lMUR" class="">OPTIONS é¢„æ£€è¯·æ±‚è¢«æ‹’ç»</td><td id="hJIY" class="">åç«¯æ²¡å…è®¸ OPTIONS æ–¹æ³•</td></tr><tr id="2078d968-54a6-8075-96bc-fecd20241193"><td id="lMUR" class="">æ— æ³•å¸¦ cookie/Session</td><td id="hJIY" class="">åç«¯æ²¡è®¾ç½® <code>allowCredentials(true)</code>ï¼Œæˆ–å‰ç«¯æ²¡ <code>credentials: include</code></td></tr><tr id="2078d968-54a6-80e3-a750-d49960c0a07a"><td id="lMUR" class="">åªå…è®¸éƒ¨åˆ†æ¥å£è·¨åŸŸ</td><td id="hJIY" class="">å¯ä»¥ <code>@CrossOrigin</code> é€ä¸ªé…ç½®æˆ–ä½¿ç”¨ path åŒ¹é…</td></tr><tr id="2078d968-54a6-8004-a40c-dd2aa10bdbdb"><td id="lMUR" class="">Spring Security æ‹¦æˆªè·¨åŸŸ</td><td id="hJIY" class="">éœ€åœ¨ <code>HttpSecurity.cors()</code> æ˜¾å¼å…è®¸</td></tr></tbody></table><hr id="2078d968-54a6-80f0-bcc9-ee821cc6eb4a"/><h3 id="2078d968-54a6-80d2-8491-f879e8b51c47" class="">è‹¥ä½¿ç”¨ Spring Securityï¼Œè¿˜éœ€åŠ ä¸Šï¼š</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-8061-a4b3-dba58f228341" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java
å¤åˆ¶ç¼–è¾‘
http.cors().and().csrf().disable();

</code></pre><p id="2078d968-54a6-8028-b76e-ef5c7e914553" class="">å¦åˆ™è·¨åŸŸè¯·æ±‚å¯èƒ½è¢«é»˜è®¤ CSRF æ‹¦æˆªæœºåˆ¶é˜»æ­¢ã€‚</p><hr id="2078d968-54a6-8069-9d48-f03f0caf9fbc"/><h2 id="2078d968-54a6-80c5-82b4-d3547f73c0bb" class="">ğŸ§  é¢è¯•å¼ºåŒ–é—®é¢˜</h2><hr id="2078d968-54a6-8098-b564-c87db15ee19e"/><h3 id="2078d968-54a6-8003-8a54-eb3274e3e91e" class="">â“ Q1ï¼šä»€ä¹ˆæ˜¯è·¨åŸŸï¼Ÿä¸ºä»€ä¹ˆæµè§ˆå™¨è¦é™åˆ¶è·¨åŸŸè¯·æ±‚ï¼Ÿ</h3><p id="2078d968-54a6-8075-b0ac-c532e3c5e0f2" class="">âœ… å›ç­”è¦ç‚¹ï¼š</p><blockquote id="2078d968-54a6-8091-82e0-f2e564ba933b" class="">è·¨åŸŸæ˜¯æŒ‡æµè§ˆå™¨è¯·æ±‚çš„åè®®ã€åŸŸåæˆ–ç«¯å£ä¸å½“å‰é¡µé¢ä¸åŒã€‚ä¸ºé˜²æ­¢æ¶æ„ç½‘ç«™çªƒå–æ•°æ®ï¼Œæµè§ˆå™¨å¯ç”¨äº†ã€ŒåŒæºç­–ç•¥ã€ã€‚é€šè¿‡æœåŠ¡å™¨è®¾ç½® Access-Control-Allow-Origin ç­‰å“åº”å¤´å¯å…è®¸è·¨åŸŸè®¿é—®ã€‚</blockquote><hr id="2078d968-54a6-8018-834a-c32237223ceb"/><h3 id="2078d968-54a6-80e8-af05-c29c32164daf" class="">â“ Q2ï¼šSpring Boot å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜ï¼Ÿ</h3><p id="2078d968-54a6-80fb-bf07-fb475a6683ff" class="">âœ… å›ç­”è¦ç‚¹ï¼š</p><blockquote id="2078d968-54a6-80fe-9f8e-cd4d2a1ba5a8" class="">å¯é€šè¿‡å®ç° WebMvcConfigurer çš„ addCorsMappings() æ–¹æ³•ï¼Œåœ¨é…ç½®ç±»ä¸­ç»Ÿä¸€è®¾ç½®å…è®¸çš„æ¥æºã€æ–¹æ³•ã€å¤´ä¿¡æ¯å’Œ cookieã€‚ä¹Ÿå¯ä½¿ç”¨ @CrossOrigin æ³¨è§£å±€éƒ¨é…ç½®ã€‚</blockquote><hr id="2078d968-54a6-803e-95d2-dd2353982238"/><h3 id="2078d968-54a6-8049-b4fb-cf3020d10b51" class="">â“ Q3ï¼šå¦‚ä½•è®©å‰åç«¯åˆ†ç¦»é¡¹ç›®æ”¯æŒ cookie ç™»å½•ï¼Ÿ</h3><p id="2078d968-54a6-80c6-9e15-f67e935d419e" class="">âœ… å›ç­”è¦ç‚¹ï¼š</p><blockquote id="2078d968-54a6-802f-8876-c0afbc175e5b" class="">å‰ç«¯å¿…é¡»è®¾ç½® credentials: &#x27;include&#x27;ï¼Œåç«¯éœ€è®¾ç½® allowCredentials(true)ï¼Œå¹¶å°†å…è®¸çš„ origin æ˜ç¡®æŒ‡å®šï¼Œä¸èƒ½ä½¿ç”¨ &quot;*&quot;ã€‚</blockquote><hr id="2078d968-54a6-8020-986b-d65a2ec20669"/><h2 id="2078d968-54a6-80f3-a275-e2dc0d1edca1" class="">ğŸ“š å°ç»“å›é¡¾</h2><table id="2078d968-54a6-80d2-9d28-d7bf274eaf4e" class="simple-table"><tbody><tr id="2078d968-54a6-80b8-81c9-f10ce1c59b7a"><td id="GbqE" class="">çŸ¥è¯†ç‚¹</td><td id="V&lt;SW" class="">è¯´æ˜</td></tr><tr id="2078d968-54a6-80af-a282-f66ddbad3398"><td id="GbqE" class="">CORS åŸç†</td><td id="V&lt;SW" class="">æµè§ˆå™¨åŸºäºåŒæºç­–ç•¥å‘èµ·é¢„æ£€è¯·æ±‚</td></tr><tr id="2078d968-54a6-809d-86d6-ea12dd3499fd"><td id="GbqE" class="">å…¨å±€è·¨åŸŸé…ç½®</td><td id="V&lt;SW" class="">æ¨èä½¿ç”¨ <code>CorsRegistry</code> å…¨å±€æ§åˆ¶</td></tr><tr id="2078d968-54a6-8046-9ece-c532a20868a1"><td id="GbqE" class="">å‰ç«¯æ³¨æ„ç‚¹</td><td id="V&lt;SW" class="">ä½¿ç”¨ fetch æ—¶éœ€åŠ  <code>credentials: &#x27;include&#x27;</code></td></tr><tr id="2078d968-54a6-8065-9316-f300792ad368"><td id="GbqE" class="">è·¨åŸŸ + Cookie æ”¯æŒ</td><td id="V&lt;SW" class="">åç«¯ <code>allowCredentials(true)</code> + æŒ‡å®š origin</td></tr><tr id="2078d968-54a6-80af-adea-d68142acf004"><td id="GbqE" class="">é…åˆ Spring Security</td><td id="V&lt;SW" class="">éœ€æ˜¾å¼è®¾ç½® <code>.cors()</code> å¹¶å…³é—­ CSRF</td></tr></tbody></table><p id="2078d968-54a6-804e-865f-ec3fc655fe07" class="">
</p><p id="2078d968-54a6-80a6-a041-ce17575976ac" class="">
</p><p id="2078d968-54a6-802f-899a-e984ce0ca0ad" class="">
</p><p id="2078d968-54a6-80bf-b86a-cb5e4314acf2" class="">
</p><p id="2078d968-54a6-80be-9c90-e90b660a80d2" class="">
</p><h1 id="s17" class="">ç¬¬17ç« ï¼šå‰åç«¯æ¥å£ç»Ÿä¸€å“åº”ç»“æ„å°è£…ï¼ˆResult&lt;T&gt; + çŠ¶æ€ç æšä¸¾ + å…¨å±€å¼‚å¸¸æ˜ å°„ï¼‰</h1><blockquote id="2078d968-54a6-80cb-80ed-f441c06b7cba" class="">âœ… æœ¬ç« ç›®æ ‡ï¼š<ul id="2078d968-54a6-80c0-a3bf-f94a5294448a" class="bulleted-list"><li style="list-style-type:disc">æ„å»ºç»Ÿä¸€çš„å“åº”æ•°æ®ç»“æ„ <code>Result&lt;T&gt;</code>ï¼ˆé€šç”¨å“åº”ä½“ï¼‰</li></ul><ul id="2078d968-54a6-80d8-8ca3-f2327156a9f6" class="bulleted-list"><li style="list-style-type:disc">å¼•å…¥çŠ¶æ€ç æšä¸¾ï¼Œè§„èŒƒæ‰€æœ‰æ¥å£è¿”å›çŠ¶æ€ä¸å«ä¹‰</li></ul><ul id="2078d968-54a6-8038-8fe1-fde5bc02a67b" class="bulleted-list"><li style="list-style-type:disc">å…¨å±€å¼‚å¸¸å¤„ç†æ—¶ä¹Ÿè¿”å›æ ‡å‡†ç»“æ„</li></ul><ul id="2078d968-54a6-801e-8251-cbcddec12e01" class="bulleted-list"><li style="list-style-type:disc">ğŸŒŸ æ‹“å±•ï¼šä¸ºä»€ä¹ˆè¦ç»Ÿä¸€è¿”å›ç»“æ„ + é¢è¯•ç­”é¢˜æ¨¡æ¿</li></ul><ul id="2078d968-54a6-80cc-9b1f-f1f512ee14c2" class="bulleted-list"><li style="list-style-type:disc">ğŸ“Œ æ‰€æœ‰ä»£ç å«è¯¦ç»†æ³¨é‡Šï¼ŒåŠ©ä½ è½»æ¾æŒæ¡é¡¹ç›®è§„èŒƒåŒ–æŠ€å·§</li></ul></blockquote><hr id="2078d968-54a6-8096-b3a8-d96f9606f497"/><h2 id="2078d968-54a6-80f3-b656-f878562159b9" class="">1. ä¸ºä»€ä¹ˆè¦ç»Ÿä¸€æ¥å£è¿”å›ç»“æ„ï¼Ÿ</h2><h3 id="2078d968-54a6-80d3-805f-ecc6f167fe8f" class="">â— é—®é¢˜åœºæ™¯ï¼š</h3><blockquote id="2078d968-54a6-80fd-a419-ce109a459b40" class="">ä¸åŒæ¥å£è¿”å›ä¸åŒå­—æ®µã€æ ¼å¼ä¸ç»Ÿä¸€ï¼Œå‰ç«¯æ— æ³•ç»Ÿä¸€å¤„ç†æˆåŠŸ/å¤±è´¥é€»è¾‘ã€‚</blockquote><hr id="2078d968-54a6-8072-8f62-ff64664c9c1a"/><h3 id="2078d968-54a6-805e-9b99-c8836b1234ef" class="">å¥½çš„æ¥å£è®¾è®¡åº”è¯¥æ»¡è¶³ï¼š</h3><ul id="2078d968-54a6-808c-8868-fdcf51c230e9" class="bulleted-list"><li style="list-style-type:disc">æ‰€æœ‰æ¥å£è¿”å›æ ¼å¼ä¸€è‡´ï¼ˆç»Ÿä¸€ç»“æ„ï¼‰</li></ul><ul id="2078d968-54a6-80e8-a273-f42f9afa58b3" class="bulleted-list"><li style="list-style-type:disc">æ˜ç¡®æ ‡è¯†æˆåŠŸ/å¤±è´¥ï¼ˆçŠ¶æ€ç  + messageï¼‰</li></ul><ul id="2078d968-54a6-800d-94af-e93043c983a8" class="bulleted-list"><li style="list-style-type:disc">æ•°æ®å­—æ®µå§‹ç»ˆåœ¨ <code>data</code> ä¸­</li></ul><hr id="2078d968-54a6-80bc-a7e4-d56e9234c645"/><h2 id="2078d968-54a6-806f-8f0d-c23962e704bd" class="">2. å®šä¹‰é€šç”¨å“åº”ä½“ç±» <code>Result&lt;T&gt;</code></h2><hr id="2078d968-54a6-8011-8430-f27e823c10ee"/><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-8025-ad45-ce1394bf142f" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

public class Result&lt;T&gt; {

    private Integer code;  // çŠ¶æ€ç 
    private String message; // æç¤ºä¿¡æ¯
    private T data;        // ä¸šåŠ¡æ•°æ®å†…å®¹

    // å¿«é€ŸæˆåŠŸæ„é€ 
    public static &lt;T&gt; Result&lt;T&gt; success(T data) {
        return new Result&lt;&gt;(200, &quot;Success&quot;, data);
    }

    // å¿«é€Ÿå¤±è´¥æ„é€ 
    public static Result&lt;?&gt; error(String message) {
        return new Result&lt;&gt;(500, message, null);
    }

    // å¸¦çŠ¶æ€æšä¸¾çš„å¤±è´¥
    public static Result&lt;?&gt; error(ResultCode codeEnum) {
        return new Result&lt;&gt;(codeEnum.getCode(), codeEnum.getMessage(), null);
    }

    // æ„é€ æ–¹æ³•
    public Result(Integer code, String message, T data) {
        this.code = code;
        this.message = message;
        this.data = data;
    }

    // getter/setter çœç•¥
}

</code></pre><hr id="2078d968-54a6-8028-9c18-ffa5d0ae5e0b"/><h2 id="2078d968-54a6-8023-96d4-fd03c869fb12" class="">3. å®šä¹‰çŠ¶æ€ç æšä¸¾ç±» <code>ResultCode</code></h2><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-80c7-9873-c3ab78e6fcf5" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java
å¤åˆ¶ç¼–è¾‘
public enum ResultCode {

    SUCCESS(200, &quot;æ“ä½œæˆåŠŸ&quot;),
    BAD_REQUEST(400, &quot;è¯·æ±‚å‚æ•°é”™è¯¯&quot;),
    UNAUTHORIZED(401, &quot;æœªè®¤è¯&quot;),
    FORBIDDEN(403, &quot;æ— æƒé™è®¿é—®&quot;),
    NOT_FOUND(404, &quot;èµ„æºä¸å­˜åœ¨&quot;),
    SERVER_ERROR(500, &quot;æœåŠ¡å™¨å†…éƒ¨é”™è¯¯&quot;);

    private final Integer code;
    private final String message;

    ResultCode(Integer code, String message) {
        this.code = code;
        this.message = message;
    }

    public Integer getCode() { return code; }
    public String getMessage() { return message; }
}

</code></pre><p id="2078d968-54a6-80b0-937a-ffaf4c0bf0dd" class="">æ¥å£è¿”å›æ—¶å¯ä»¥è¿™æ ·å†™ï¼š</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-8080-9edb-fdbcf7c34f0e" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java
å¤åˆ¶ç¼–è¾‘
return Result.error(ResultCode.UNAUTHORIZED);

</code></pre><hr id="2078d968-54a6-80d8-972e-fd70bfc2424a"/><h2 id="2078d968-54a6-802f-a8df-c5a059cb4772" class="">4. å…¨å±€å¼‚å¸¸å¤„ç†å™¨ä¹Ÿä½¿ç”¨ç»Ÿä¸€ç»“æ„</h2><hr id="2078d968-54a6-807c-84cf-cab7351f6e27"/><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-8057-8af1-d2395cdec0e2" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

@RestControllerAdvice
public class GlobalExceptionHandler {

    // å‚æ•°æ ¡éªŒå¤±è´¥
    @ExceptionHandler(MethodArgumentNotValidException.class)
    public Result&lt;?&gt; handleValidException(MethodArgumentNotValidException e) {
        String msg = e.getBindingResult().getFieldError().getDefaultMessage();
        return Result.error(400, msg, null);
    }

    // æ‰€æœ‰è¿è¡Œæ—¶å¼‚å¸¸
    @ExceptionHandler(RuntimeException.class)
    public Result&lt;?&gt; handleRuntime(RuntimeException e) {
        return Result.error(500, &quot;ç³»ç»Ÿé”™è¯¯ï¼š&quot; + e.getMessage());
    }
}

</code></pre><hr id="2078d968-54a6-8078-9ab4-d076638b9c9d"/><h2 id="2078d968-54a6-80e1-9ff0-dff9d86b9878" class="">5. æ§åˆ¶å™¨ç¤ºä¾‹ç»Ÿä¸€è¿”å›æ ¼å¼</h2><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-8096-99e6-f6cdf6874548" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

@GetMapping(&quot;/user&quot;)
public Result&lt;?&gt; getUser() {
    User user = new User(1L, &quot;å¼ ä¸‰&quot;, &quot;user@example.com&quot;);
    return Result.success(user);
}

</code></pre><p id="2078d968-54a6-801d-8d2a-ff0f1639342d" class="">è¿”å›ç»“æœç»Ÿä¸€ä¸ºï¼š</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-80e7-bcb5-e5da9aa59786" class="code"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">json

{
  &quot;code&quot;: 200,
  &quot;message&quot;: &quot;Success&quot;,
  &quot;data&quot;: {
    &quot;id&quot;: 1,
    &quot;name&quot;: &quot;å¼ ä¸‰&quot;,
    &quot;email&quot;: &quot;user@example.com&quot;
  }
}

</code></pre><hr id="2078d968-54a6-806c-9e9e-dabb6c882ce1"/><h2 id="2078d968-54a6-8010-9a2b-c9fffe3cd8e2" class="">ğŸ§  é¢è¯•å¼ºåŒ–é—®é¢˜</h2><hr id="2078d968-54a6-80c7-9522-eb67d8d6c2e8"/><h3 id="2078d968-54a6-8033-94de-c1c28318c3f3" class="">â“ Q1ï¼šä½ ä»¬é¡¹ç›®ä¸­å¦‚ä½•å¤„ç†æ¥å£è¿”å›ç»“æ„ï¼Ÿä¸ºä»€ä¹ˆè¿™ä¹ˆè®¾è®¡ï¼Ÿ</h3><p id="2078d968-54a6-800a-91f0-c36c79721a7d" class="">âœ… å›ç­”è¦ç‚¹ï¼š</p><blockquote id="2078d968-54a6-803c-b88b-de5252dbd2ad" class="">æˆ‘ä»¬ä½¿ç”¨ç»Ÿä¸€å°è£…ç±» Result&lt;T&gt; æ¥åŒ…è£¹æ‰€æœ‰æ¥å£å“åº”ï¼Œç¡®ä¿å‰ç«¯å¯ä»¥ç»Ÿä¸€å¤„ç†çŠ¶æ€ç ã€æ¶ˆæ¯å’Œæ•°æ®ç»“æ„ï¼Œä¾¿äºç»´æŠ¤ä¸è°ƒè¯•ã€‚å¼‚å¸¸å¤„ç†ä¸å‚æ•°æ ¡éªŒä¹Ÿç»Ÿä¸€è¿”å›æ ‡å‡†æ ¼å¼ã€‚</blockquote><hr id="2078d968-54a6-808c-979f-d81c1574a014"/><h3 id="2078d968-54a6-80f3-ad55-dbfd7c9219b6" class="">â“ Q2ï¼šä½ å¦‚ä½•è®¾è®¡çŠ¶æ€ç å’Œæç¤ºä¿¡æ¯ï¼Ÿ</h3><p id="2078d968-54a6-807b-a389-e93e5f940fbe" class="">âœ… å›ç­”è¦ç‚¹ï¼š</p><blockquote id="2078d968-54a6-80f3-9645-c9e6cb315527" class="">ä½¿ç”¨ ResultCode æšä¸¾ç®¡ç†æ‰€æœ‰çŠ¶æ€ç ï¼Œé¿å… magic numberï¼Œæé«˜å¯è¯»æ€§å’Œç»Ÿä¸€æ€§ã€‚çŠ¶æ€ç è®¾è®¡å‚è€ƒ HTTP æ ‡å‡†ï¼Œç»“åˆé¡¹ç›®å®é™…å®šä¹‰ä¸šåŠ¡çŠ¶æ€ç æ®µã€‚</blockquote><hr id="2078d968-54a6-80d7-9516-d1848a584afd"/><h3 id="2078d968-54a6-809e-9871-ee50e59e8bf6" class="">â“ Q3ï¼šä»€ä¹ˆæƒ…å†µä¸‹ä½ ä¼šè‡ªå®šä¹‰çŠ¶æ€ç ï¼Ÿ</h3><p id="2078d968-54a6-808b-ab73-cf7207c9789c" class="">âœ… å›ç­”è¦ç‚¹ï¼š</p><blockquote id="2078d968-54a6-802b-be96-de1e360b28ea" class="">å¯¹äºä¸šåŠ¡çº§é”™è¯¯ï¼ˆå¦‚éªŒè¯ç é”™è¯¯ã€ç§¯åˆ†ä¸è¶³ç­‰ï¼‰ï¼Œä¼šå®šä¹‰ 1000+ çš„çŠ¶æ€ç æ®µï¼Œç”¨äºåŒºåˆ†é€šç”¨é”™è¯¯ä¸ä¸šåŠ¡é”™è¯¯ã€‚</blockquote><hr id="2078d968-54a6-8097-9f7d-d6cd0a565520"/><h2 id="2078d968-54a6-80ba-8c56-e245a08bcb17" class="">ğŸ“š å°ç»“å›é¡¾</h2><table id="2078d968-54a6-80ab-93c5-e4eee4124b0d" class="simple-table"><tbody><tr id="2078d968-54a6-80d0-8649-f0a22094970a"><td id="^{@?" class="">å†…å®¹ç‚¹</td><td id="RgTR" class="">è¯´æ˜</td></tr><tr id="2078d968-54a6-80e0-b73a-d3dc343bbe93"><td id="^{@?" class=""><code>Result&lt;T&gt;</code> å°è£…ç±»</td><td id="RgTR" class="">ç»Ÿä¸€è¿”å›ç»“æ„ï¼ŒåŒ…æ‹¬ code/message/data</td></tr><tr id="2078d968-54a6-801e-8ac8-d27a262a3c6b"><td id="^{@?" class="">çŠ¶æ€ç æšä¸¾ç®¡ç†</td><td id="RgTR" class=""><code>ResultCode</code> ä¸­é›†ä¸­å®šä¹‰æ‰€æœ‰çŠ¶æ€ä¸æç¤ºæ–‡æ¡ˆ</td></tr><tr id="2078d968-54a6-80a2-bfcd-f8c8c10b765a"><td id="^{@?" class="">å¼‚å¸¸å¤„ç†</td><td id="RgTR" class="">æ‰€æœ‰å¼‚å¸¸å¤„ç†ç»Ÿä¸€ä½¿ç”¨ <code>Result.error(...)</code> è¿”å›</td></tr><tr id="2078d968-54a6-80bf-b3c6-d44a51fa87e1"><td id="^{@?" class="">å‰ç«¯é…åˆ</td><td id="RgTR" class="">å¯ç»Ÿä¸€å¤„ç† code åˆ¤æ–­ï¼Œå±•ç¤º messageï¼Œè§£æ data</td></tr><tr id="2078d968-54a6-8090-a208-d366d62ec2d4"><td id="^{@?" class="">è®¾è®¡æ„ä¹‰</td><td id="RgTR" class="">é™ä½æ¥å£ä½¿ç”¨é—¨æ§›ï¼Œæé«˜å¯ç»´æŠ¤æ€§ä¸ä¸€è‡´æ€§</td></tr></tbody></table><p id="2078d968-54a6-8097-821f-ece15aa0a678" class="">
</p><p id="2078d968-54a6-8000-92ad-ebe2ca8d617a" class="">
</p><p id="2078d968-54a6-8058-ae68-d03b73fb8232" class="">
</p><p id="2078d968-54a6-80a7-995d-d7fa72e5cb40" class="">
</p><p id="2078d968-54a6-807f-978e-e73481f8dfba" class="">
</p><h1 id="s18" class="">ç¬¬18ç« ï¼šåˆ†é¡µæŸ¥è¯¢æ¥å£æ ‡å‡†å®ç°ä¸é€šç”¨å°è£…ï¼ˆPageHelper / Pageableï¼‰</h1><blockquote id="2078d968-54a6-8034-9218-e9abf4906315" class="">âœ… æœ¬ç« ç›®æ ‡ï¼š<ul id="2078d968-54a6-8033-a6c3-ebc8205bd8d7" class="bulleted-list"><li style="list-style-type:disc">å®ç°åç«¯åˆ†é¡µæŸ¥è¯¢æ¥å£çš„æ ‡å‡†è®¾è®¡</li></ul><ul id="2078d968-54a6-805c-a2b3-f6fa7125dad5" class="bulleted-list"><li style="list-style-type:disc">ç†è§£å‰ç«¯åˆ†é¡µå‚æ•°è§„èŒƒï¼ˆpageNum/pageSizeï¼‰</li></ul><ul id="2078d968-54a6-80e5-bba9-f618b0dc655f" class="bulleted-list"><li style="list-style-type:disc">æŒæ¡ MyBatis + PageHelper çš„åˆ†é¡µæ’ä»¶ç”¨æ³•</li></ul><ul id="2078d968-54a6-8098-a7d1-e3cf99290243" class="bulleted-list"><li style="list-style-type:disc">å®ç°é€šç”¨åˆ†é¡µè¿”å›ç»“æ„ <code>PageResult&lt;T&gt;</code></li></ul><ul id="2078d968-54a6-8083-a2bf-f3244cf56d78" class="bulleted-list"><li style="list-style-type:disc">ğŸŒŸ æ‹“å±•ï¼šåˆ†é¡µæ¥å£æ€§èƒ½ä¼˜åŒ– + é¢è¯•é—®é¢˜å¼ºåŒ–</li></ul><ul id="2078d968-54a6-8016-9b4a-c493aeaaf6c2" class="bulleted-list"><li style="list-style-type:disc">ğŸ“Œ å…¨éƒ¨ä»£ç é…æ³¨é‡Šï¼Œç¡®ä¿ä½ èƒ½å¿«é€Ÿå¤ç”¨å’Œé›†æˆåˆ°ä»»æ„æ¨¡å—</li></ul></blockquote><hr id="2078d968-54a6-80da-b45b-c47303a5e0b0"/><h2 id="2078d968-54a6-80f6-868c-c4a366108601" class="">1. ä¸ºä»€ä¹ˆè¦åˆ†é¡µï¼Ÿ</h2><p id="2078d968-54a6-8049-88e3-e571ce8636ed" class="">æ•°æ®é‡å¤§æ—¶ï¼Œä¸€æ¬¡è¿”å›å…¨éƒ¨æ•°æ®ä¼šå¯¼è‡´ï¼š</p><ul id="2078d968-54a6-809a-9a9a-e0dcd0c55615" class="bulleted-list"><li style="list-style-type:disc">âŒ åç«¯å†…å­˜å‹åŠ›å¤§</li></ul><ul id="2078d968-54a6-8099-a9dd-f94934963f90" class="bulleted-list"><li style="list-style-type:disc">âŒ å‰ç«¯æ¸²æŸ“æ…¢ï¼Œä½“éªŒå·®</li></ul><ul id="2078d968-54a6-8048-8fe5-c29ea2954a44" class="bulleted-list"><li style="list-style-type:disc">âŒ ç”¨æˆ·æ“ä½œä¸ä¾¿ï¼Œéš¾å®šä½å†…å®¹</li></ul><p id="2078d968-54a6-8038-8ee6-f253a33f44e1" class="">âœ… æ­£ç¡®åšæ³•ï¼šåˆ†é¡µåŠ è½½</p><hr id="2078d968-54a6-80b9-9b08-f562176d03dd"/><h2 id="2078d968-54a6-8060-8c7a-fc52c07c818a" class="">2. é€šç”¨åˆ†é¡µå‚æ•°å®šä¹‰</h2><h3 id="2078d968-54a6-806d-a6c0-ce8a11b797b7" class="">âœ… å‰ç«¯ä¼ å‚ï¼š</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-809a-881c-f747e187b190" class="code"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">json

{
  &quot;pageNum&quot;: 1,
  &quot;pageSize&quot;: 10,
  &quot;keyword&quot;: &quot;å¼ ä¸‰&quot;
}

</code></pre><h3 id="2078d968-54a6-8063-913e-d7b2077232d0" class="">âœ… åç«¯æ¥æ”¶ç±»ï¼š</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-80a2-a3e9-c8527c694589" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

public class PageQuery {

    private Integer pageNum = 1;   // å½“å‰é¡µç 
    private Integer pageSize = 10; // æ¯é¡µæ¡æ•°
    private String keyword;        // å¯é€‰ï¼šæœç´¢å…³é”®è¯

    // getter/setter
}

</code></pre><hr id="2078d968-54a6-80db-9dd1-fd1dc164cd81"/><h2 id="2078d968-54a6-802d-999e-d48621fd9a5a" class="">3. åˆ†é¡µç»“æœå°è£…ç±» <code>PageResult&lt;T&gt;</code></h2><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-80c1-abeb-d32743def86f" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

public class PageResult&lt;T&gt; {

    private List&lt;T&gt; list;   // å½“å‰é¡µæ•°æ®
    private long total;     // æ€»æ¡æ•°
    private int pageNum;    // å½“å‰é¡µç 
    private int pageSize;   // æ¯é¡µæ¡æ•°

    public PageResult(List&lt;T&gt; list, long total, int pageNum, int pageSize) {
        this.list = list;
        this.total = total;
        this.pageNum = pageNum;
        this.pageSize = pageSize;
    }

    // getter/setter
}

</code></pre><hr id="2078d968-54a6-8078-ac3e-caa912eb37bb"/><h2 id="2078d968-54a6-8033-9b4e-cb01dcff6a1f" class="">4. æ•´åˆ PageHelper å®ç° MyBatis åˆ†é¡µ</h2><hr id="2078d968-54a6-8004-8e1d-fa02146d16fd"/><h3 id="2078d968-54a6-8055-b8e3-c18e64dd4c1b" class="">âœ… æ·»åŠ ä¾èµ–ï¼š</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-80bb-9e86-fbb715306676" class="code"><code class="language-XML" style="white-space:pre-wrap;word-break:break-all">xml

&lt;dependency&gt;
  &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt;
  &lt;artifactId&gt;pagehelper-spring-boot-starter&lt;/artifactId&gt;
  &lt;version&gt;1.4.7&lt;/version&gt;
&lt;/dependency&gt;

</code></pre><hr id="2078d968-54a6-8053-bef6-dc5cbcd91023"/><h3 id="2078d968-54a6-80a6-9d93-c590bbeeb932" class="">âœ… Mapper ç¤ºä¾‹ï¼š</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-8060-a829-d0593f6e4ace" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

@Mapper
public interface UserMapper {

    @Select(&quot;SELECT * FROM users WHERE name LIKE CONCAT(&#x27;%&#x27;, #{keyword}, &#x27;%&#x27;)&quot;)
    List&lt;User&gt; search(@Param(&quot;keyword&quot;) String keyword);
}

</code></pre><hr id="2078d968-54a6-8048-b900-c4a8c548f262"/><h3 id="2078d968-54a6-80ae-9d2a-ce926cba4822" class="">âœ… Service ç¤ºä¾‹ï¼š</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-8076-aa4b-f65d7e478ff3" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

public PageResult&lt;User&gt; getUserList(PageQuery query) {
    PageHelper.startPage(query.getPageNum(), query.getPageSize()); // å¯åŠ¨åˆ†é¡µ
    List&lt;User&gt; users = userMapper.search(query.getKeyword());
    PageInfo&lt;User&gt; pageInfo = new PageInfo&lt;&gt;(users);

    return new PageResult&lt;&gt;(pageInfo.getList(),
                            pageInfo.getTotal(),
                            pageInfo.getPageNum(),
                            pageInfo.getPageSize());
}

</code></pre><hr id="2078d968-54a6-80d6-baef-fe4390f9f146"/><h3 id="2078d968-54a6-80da-b2b9-f3e3dab8e2e1" class="">âœ… Controller ç¤ºä¾‹ï¼š</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-8051-bf34-fe62804d033b" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

@PostMapping(&quot;/users/search&quot;)
public Result&lt;PageResult&lt;User&gt;&gt; searchUsers(@RequestBody PageQuery query) {
    PageResult&lt;User&gt; result = userService.getUserList(query);
    return Result.success(result);
}

</code></pre><hr id="2078d968-54a6-8009-a8e0-d5f403190e0a"/><h2 id="2078d968-54a6-804a-aaa1-c92478eed66a" class="">âœ… ç¤ºä¾‹å“åº”ç»“æ„ï¼š</h2><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-8040-a8fc-da1c25a42b05" class="code"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">json

{
  &quot;code&quot;: 200,
  &quot;message&quot;: &quot;Success&quot;,
  &quot;data&quot;: {
    &quot;list&quot;: [
      { &quot;id&quot;: 1, &quot;name&quot;: &quot;å¼ ä¸‰&quot; },
      { &quot;id&quot;: 2, &quot;name&quot;: &quot;æå››&quot; }
    ],
    &quot;total&quot;: 25,
    &quot;pageNum&quot;: 1,
    &quot;pageSize&quot;: 10
  }
}

</code></pre><p id="2078d968-54a6-808c-bb1d-d17122b62fb4" class="">âœ… å‰ç«¯æ ¹æ® <code>total</code> è®¡ç®—åˆ†é¡µæŒ‰é’®ï¼Œæ ¹æ® <code>list</code> æ¸²æŸ“å†…å®¹ã€‚</p><hr id="2078d968-54a6-80e7-bc29-d286391768d9"/><h2 id="2078d968-54a6-80b7-b35c-d97511ede919" class="">5. æ³¨æ„äº‹é¡¹ä¸æ€§èƒ½å»ºè®®</h2><table id="2078d968-54a6-802f-a5a3-d2da6a94fde8" class="simple-table"><tbody><tr id="2078d968-54a6-8087-863d-de0c1bfebcb6"><td id="&gt;&lt;yW" class="">é—®é¢˜</td><td id="jUCh" class="">å»ºè®®</td></tr><tr id="2078d968-54a6-80da-942e-f04142f34d90"><td id="&gt;&lt;yW" class="">pageNum â‰¤ 0 æˆ– pageSize å¤ªå¤§</td><td id="jUCh" class="">æ·»åŠ åç«¯æ ¡éªŒï¼Œé™åˆ¶æœ€å¤§é¡µæ•°/æ¡æ•°</td></tr><tr id="2078d968-54a6-80c3-bb41-f2f2ad88926d"><td id="&gt;&lt;yW" class="">å¤§æ•°æ®åˆ†é¡µæ€§èƒ½ä¸‹é™</td><td id="jUCh" class="">ä½¿ç”¨ <code>LIMIT</code> åˆ†é¡µæˆ–ä¸»é”®æ¸¸æ ‡åˆ†é¡µ</td></tr><tr id="2078d968-54a6-8078-bccd-eb6423afeccf"><td id="&gt;&lt;yW" class="">æ¨¡ç³ŠæŸ¥è¯¢æ•ˆç‡å·®</td><td id="jUCh" class="">å»ºç«‹åˆé€‚çš„ç´¢å¼• + å…³é”®è¯å­—æ®µæœç´¢ä¼˜åŒ–</td></tr></tbody></table><hr id="2078d968-54a6-8037-bc6a-e4a159da8a6b"/><h2 id="2078d968-54a6-8030-89cb-feac0c6fe7d4" class="">ğŸ§  é¢è¯•å¼ºåŒ–é—®é¢˜</h2><hr id="2078d968-54a6-8082-aa06-fec8c2b52aa8"/><h3 id="2078d968-54a6-803c-bcfb-f444bf7c6f3c" class="">â“ Q1ï¼šMyBatis å¦‚ä½•å®ç°åˆ†é¡µï¼Ÿä¸ºä»€ä¹ˆä½¿ç”¨ PageHelperï¼Ÿ</h3><p id="2078d968-54a6-80ad-b564-ce2eb95948e9" class="">âœ… å›ç­”è¦ç‚¹ï¼š</p><blockquote id="2078d968-54a6-8029-96e2-fc04af3e2caa" class="">MyBatis æœ¬èº«ä¸æ”¯æŒåˆ†é¡µé€»è¾‘ï¼Œä½† PageHelper æ’ä»¶å¯ä»¥åœ¨ SQL æ‰§è¡Œå‰è‡ªåŠ¨æ‹¼æ¥ LIMIT å­å¥å¹¶æ‹¦æˆªç»“æœï¼Œæ–¹ä¾¿å¼€å‘ï¼Œå…¼å®¹å„ç§æ•°æ®åº“ï¼Œæ˜¯è½»é‡åˆ†é¡µé¦–é€‰ã€‚</blockquote><hr id="2078d968-54a6-8002-81b6-d75144659316"/><h3 id="2078d968-54a6-802c-a12e-d1ff423231a7" class="">â“ Q2ï¼šä½ å¦‚ä½•è®¾è®¡åˆ†é¡µæ¥å£ï¼Ÿå‰åç«¯å¦‚ä½•é…åˆï¼Ÿ</h3><p id="2078d968-54a6-80a2-9830-f747bf255ca5" class="">âœ… å›ç­”è¦ç‚¹ï¼š</p><blockquote id="2078d968-54a6-8094-b58e-c53b365b5ad2" class="">åç«¯æ¥å£å‚æ•°å›ºå®šä¸º pageNumã€pageSizeï¼Œæ”¯æŒå…³é”®å­—æœç´¢ï¼›è¿”å›ç»“æ„ä¸º list + total + pageNum + pageSizeã€‚å‰ç«¯æ ¹æ® total æ¸²æŸ“åˆ†é¡µæ§ä»¶ï¼Œå¹¶é€šè¿‡åˆ†é¡µè¯·æ±‚ä¸‹ä¸€é¡µæ•°æ®ã€‚</blockquote><hr id="2078d968-54a6-8078-8eff-dce8bbeebec3"/><h3 id="2078d968-54a6-8032-9c62-e531345fc62c" class="">â“ Q3ï¼šå¤§æ•°æ®åˆ†é¡µæ€§èƒ½å¦‚ä½•ä¼˜åŒ–ï¼Ÿ</h3><p id="2078d968-54a6-803c-b141-f51f7123cb20" class="">âœ… æ‹“å±•å»ºè®®ï¼š</p><blockquote id="2078d968-54a6-806c-94cb-fe9c4d15c405" class="">å¯¹äºè¶…è¿‡ 10 ä¸‡æ¡è®°å½•çš„è¡¨ï¼Œå»ºè®®ä½¿ç”¨ã€æ¸¸æ ‡åˆ†é¡µã€‘ï¼ˆåŸºäºä¸»é”®æˆ–æ—¶é—´æˆ³ï¼‰ï¼Œè€Œé offset-limit æ–¹å¼ï¼Œä»¥é¿å…å¤§åç§»å¯¼è‡´çš„æ€§èƒ½é—®é¢˜ã€‚</blockquote><hr id="2078d968-54a6-8015-9464-f66b3db76762"/><h2 id="2078d968-54a6-805a-8473-fe11168e695b" class="">ğŸ“š å°ç»“å›é¡¾</h2><table id="2078d968-54a6-8067-91a9-cb8c6d9f865f" class="simple-table"><tbody><tr id="2078d968-54a6-8094-a850-dc32b1b25165"><td id="I[PH" class="">å†…å®¹é¡¹</td><td id="w&lt;`f" class="">è¯´æ˜</td></tr><tr id="2078d968-54a6-80b6-bc0b-f47072c353f6"><td id="I[PH" class="">å‰ç«¯åˆ†é¡µå‚æ•°</td><td id="w&lt;`f" class="">pageNum/pageSize/keyword ç­‰</td></tr><tr id="2078d968-54a6-80ca-be6f-c90dc4dd18ba"><td id="I[PH" class="">åç«¯åˆ†é¡µæ¥æ”¶ç±»</td><td id="w&lt;`f" class=""><code>PageQuery</code> å°è£…è¯·æ±‚å‚æ•°</td></tr><tr id="2078d968-54a6-800f-92c0-c285ee3f4a97"><td id="I[PH" class="">åˆ†é¡µè¿”å›ç»“æ„</td><td id="w&lt;`f" class=""><code>PageResult&lt;T&gt;</code> è¿”å›å½“å‰é¡µã€æ€»æ•°ç­‰ä¿¡æ¯</td></tr><tr id="2078d968-54a6-80b3-9224-e744a8601b9d"><td id="I[PH" class="">MyBatis + PageHelper</td><td id="w&lt;`f" class="">é…ç½®ç®€å•ï¼Œé€‚åˆä¸­å°é¡¹ç›®</td></tr><tr id="2078d968-54a6-80a2-9356-da95d3682e09"><td id="I[PH" class="">é¢è¯•é‡ç‚¹</td><td id="w&lt;`f" class="">æ¥å£è§„èŒƒè®¾è®¡ã€åˆ†é¡µæ€§èƒ½ä¼˜åŒ–ã€æ’ä»¶åŸç†</td></tr></tbody></table><p id="2078d968-54a6-8006-99ac-e7476e8257ae" class="">
</p><p id="2078d968-54a6-806f-81c1-ea97558f70fd" class="">
</p><p id="2078d968-54a6-80f1-b03b-dbf0703c8597" class="">
</p><p id="2078d968-54a6-80a9-9093-cc045297be69" class="">
</p><h1 id="s19" class="">ç¬¬19ç« ï¼šæ–‡ä»¶å¯¼å‡ºä¸æŠ¥è¡¨ç”Ÿæˆï¼ˆCSV / Excel / PDF æ¥å£å®æˆ˜ï¼‰</h1><blockquote id="2078d968-54a6-8006-be79-cc19673f06d5" class="">âœ… æœ¬ç« ç›®æ ‡ï¼š<ul id="2078d968-54a6-805f-8a7c-d6e5c29f4381" class="bulleted-list"><li style="list-style-type:disc">å®ç°å¯¼å‡ºæ•°æ®ä¸º CSV / Excel / PDF çš„åç«¯æ¥å£</li></ul><ul id="2078d968-54a6-80e1-993d-c9a326344178" class="bulleted-list"><li style="list-style-type:disc">æŒæ¡å“åº”å¤´è®¾ç½®ã€å­—èŠ‚æµå†™å…¥ã€å¯¼å‡ºä¸‹è½½æµç¨‹</li></ul><ul id="2078d968-54a6-80d9-a87e-e613fbf42357" class="bulleted-list"><li style="list-style-type:disc">å®ç°åˆ†é¡µå¯¼å‡º / å…¨é‡å¯¼å‡º</li></ul><ul id="2078d968-54a6-8009-98f1-e09e9ec27933" class="bulleted-list"><li style="list-style-type:disc">ğŸŒŸ æ‹“å±•ï¼šå¸¸è§å¯¼å‡ºåœºæ™¯ä¼˜åŒ–ç­–ç•¥ + é¢è¯•å¼ºåŒ–é—®é¢˜</li></ul><ul id="2078d968-54a6-8092-a6e0-c04b523b2c1f" class="bulleted-list"><li style="list-style-type:disc">ğŸ“Œ æ‰€æœ‰ä»£ç å‡å«æ³¨é‡Šï¼Œç¡®ä¿ä»é›¶å®ç°å¯ä¸‹è½½æŠ¥è¡¨æ¥å£</li></ul></blockquote><hr id="2078d968-54a6-80f5-8278-c59955c1653b"/><h2 id="2078d968-54a6-8047-b0b2-e879a089a1d9" class="">1. å¸¸è§å¯¼å‡ºç±»å‹å¯¹æ¯”</h2><table id="2078d968-54a6-804f-a1bd-fc8b858c39df" class="simple-table"><tbody><tr id="2078d968-54a6-801e-90d8-fbf849574b24"><td id="=M[L" class="">ç±»å‹</td><td id="f\xh" class="">æ–‡ä»¶æ ¼å¼</td><td id="JCq{" class="">ä¼˜ç‚¹</td><td id="cJ[{" class="">é€‚ç”¨åœºæ™¯</td></tr><tr id="2078d968-54a6-807e-b9ee-d82c2934772e"><td id="=M[L" class="">CSV</td><td id="f\xh" class="">é€—å·åˆ†éš”</td><td id="JCq{" class="">ç®€å•é«˜æ•ˆï¼Œä½“ç§¯å°</td><td id="cJ[{" class="">æ•°æ®é‡å¤§ï¼Œæ— æ ·å¼è¦æ±‚</td></tr><tr id="2078d968-54a6-8089-b16c-f7deac5c4a94"><td id="=M[L" class="">Excel</td><td id="f\xh" class="">.xlsx</td><td id="JCq{" class="">æ”¯æŒè¡¨æ ¼æ ·å¼ï¼Œå…¼å®¹æ€§å¼º</td><td id="cJ[{" class="">ç®¡ç†åå°æ•°æ®å¯¼å‡º</td></tr><tr id="2078d968-54a6-8037-bf42-c25a11f4a632"><td id="=M[L" class="">PDF</td><td id="f\xh" class="">.pdf</td><td id="JCq{" class="">å¯è¯»æ€§é«˜ï¼Œæ ·å¼ä¸°å¯Œ</td><td id="cJ[{" class="">åˆåŒ/é€šçŸ¥/æ­£å¼æ–‡æ¡£</td></tr></tbody></table><hr id="2078d968-54a6-80ed-86b3-d5dab37b5796"/><h2 id="2078d968-54a6-8061-a33f-fd65045b5f46" class="">2. å®ç°å¯¼å‡º CSV æ–‡ä»¶æ¥å£</h2><hr id="2078d968-54a6-80ae-b2e1-d8f0e4c2d227"/><h3 id="2078d968-54a6-8014-842a-daef79eb2d99" class="">âœ… å·¥å…·æ–¹æ³•ï¼šå†™ CSV æ–‡ä»¶å†…å®¹</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-80fc-a6c8-e097ede62fbb" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

public byte[] generateCSV(List&lt;User&gt; userList) {
    StringBuilder sb = new StringBuilder();
    sb.append(&quot;ID,å§“å,é‚®ç®±\n&quot;); // è¡¨å¤´

    for (User user : userList) {
        sb.append(user.getId()).append(&quot;,&quot;);
        sb.append(user.getName()).append(&quot;,&quot;);
        sb.append(user.getEmail()).append(&quot;\n&quot;);
    }

    return sb.toString().getBytes(StandardCharsets.UTF_8);
}

</code></pre><hr id="2078d968-54a6-80b5-a9a8-f688b24ecf11"/><h3 id="2078d968-54a6-8082-ab0d-d45b1a660b0a" class="">âœ… Controller æ¥å£ï¼š</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-80f5-ac87-fac8004cf70a" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

@GetMapping(&quot;/users/export/csv&quot;)
public void exportCSV(HttpServletResponse response) throws IOException {
    List&lt;User&gt; users = userMapper.findAll(); // ç¤ºä¾‹æ•°æ®

    byte[] csvData = generateCSV(users);

    response.setContentType(&quot;text/csv&quot;);
    response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=users.csv&quot;);
    response.getOutputStream().write(csvData);
}

</code></pre><p id="2078d968-54a6-808e-bde7-ce30e09e6a28" class="">âœ… è®¿é—®æ¥å£åï¼Œæµè§ˆå™¨å°†è‡ªåŠ¨ä¸‹è½½åä¸º <code>users.csv</code> çš„æ–‡ä»¶ã€‚</p><hr id="2078d968-54a6-8073-8031-f70baa97ae71"/><h2 id="2078d968-54a6-80f7-8adc-f5f511ef0a5a" class="">3. å®ç°å¯¼å‡º Excel æ–‡ä»¶ï¼ˆä½¿ç”¨ Apache POIï¼‰</h2><hr id="2078d968-54a6-807f-9bc3-c03c552e2b19"/><h3 id="2078d968-54a6-8075-94e1-f8f81f32a508" class="">æ·»åŠ ä¾èµ–ï¼š</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-804f-85a3-e0a179f2c433" class="code"><code class="language-XML" style="white-space:pre-wrap;word-break:break-all">xml

&lt;dependency&gt;
  &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;
  &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;
  &lt;version&gt;5.2.3&lt;/version&gt;
&lt;/dependency&gt;

</code></pre><hr id="2078d968-54a6-80b6-a7b2-d4c72b0f997d"/><h3 id="2078d968-54a6-80e8-b102-f7e779f1367d" class="">Excel å¯¼å‡ºä»£ç ï¼š</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-808a-816d-e4a6abe8988d" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

public byte[] generateExcel(List&lt;User&gt; userList) throws IOException {
    Workbook workbook = new XSSFWorkbook();
    Sheet sheet = workbook.createSheet(&quot;ç”¨æˆ·æ•°æ®&quot;);

    Row header = sheet.createRow(0);
    header.createCell(0).setCellValue(&quot;ID&quot;);
    header.createCell(1).setCellValue(&quot;å§“å&quot;);
    header.createCell(2).setCellValue(&quot;é‚®ç®±&quot;);

    int rowNum = 1;
    for (User user : userList) {
        Row row = sheet.createRow(rowNum++);
        row.createCell(0).setCellValue(user.getId());
        row.createCell(1).setCellValue(user.getName());
        row.createCell(2).setCellValue(user.getEmail());
    }

    ByteArrayOutputStream out = new ByteArrayOutputStream();
    workbook.write(out);
    workbook.close();
    return out.toByteArray();
}

</code></pre><hr id="2078d968-54a6-806e-9d8c-c8a07bd71c8c"/><h3 id="2078d968-54a6-8024-9c26-cff51a34131a" class="">Excel å¯¼å‡ºæ¥å£ï¼š</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-8010-8c28-fe65e5aae49e" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

@GetMapping(&quot;/users/export/excel&quot;)
public void exportExcel(HttpServletResponse response) throws IOException {
    List&lt;User&gt; users = userMapper.findAll();

    byte[] excelData = generateExcel(users);

    response.setContentType(&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;);
    response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=users.xlsx&quot;);
    response.getOutputStream().write(excelData);
}

</code></pre><hr id="2078d968-54a6-809b-91cd-e98cd5fd0220"/><h2 id="2078d968-54a6-805a-b179-e0c8a678fd44" class="">4. å®ç°å¯¼å‡º PDF æ–‡ä»¶ï¼ˆä½¿ç”¨ iTextï¼‰</h2><hr id="2078d968-54a6-80a3-87d2-ce98ae237293"/><h3 id="2078d968-54a6-807e-88e3-c8b23644bf2d" class="">âœ… æ·»åŠ ä¾èµ–ï¼ˆiText 7 å…è´¹ç‰ˆæˆ– iText 2 è€ç‰ˆï¼‰ï¼š</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-8090-ab97-c07859da4fcf" class="code"><code class="language-XML" style="white-space:pre-wrap;word-break:break-all">xml

&lt;dependency&gt;
  &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;
  &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;
  &lt;version&gt;5.5.13.3&lt;/version&gt;
&lt;/dependency&gt;

</code></pre><hr id="2078d968-54a6-80c2-8526-ea20221b3710"/><h3 id="2078d968-54a6-8091-af64-ec547931fe93" class="">PDF å¯¼å‡ºä»£ç ï¼š</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-80b1-91b1-ff50de599bf5" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java
public byte[] generatePDF(List&lt;User&gt; userList) throws Exception {
    ByteArrayOutputStream out = new ByteArrayOutputStream();
    Document document = new Document();
    PdfWriter.getInstance(document, out);
    document.open();

    document.add(new Paragraph(&quot;ç”¨æˆ·å¯¼å‡ºåˆ—è¡¨&quot;));
    PdfPTable table = new PdfPTable(3);
    table.addCell(&quot;ID&quot;);
    table.addCell(&quot;å§“å&quot;);
    table.addCell(&quot;é‚®ç®±&quot;);

    for (User user : userList) {
        table.addCell(user.getId().toString());
        table.addCell(user.getName());
        table.addCell(user.getEmail());
    }

    document.add(table);
    document.close();
    return out.toByteArray();
}

</code></pre><hr id="2078d968-54a6-80fe-b8aa-eed9f33c2998"/><h3 id="2078d968-54a6-80fa-93e1-e9431832bff3" class="">PDF å¯¼å‡ºæ¥å£ï¼š</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-8077-9ec5-f9a689f1b83e" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

@GetMapping(&quot;/users/export/pdf&quot;)
public void exportPDF(HttpServletResponse response) throws Exception {
    List&lt;User&gt; users = userMapper.findAll();
    byte[] pdfData = generatePDF(users);

    response.setContentType(&quot;application/pdf&quot;);
    response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=users.pdf&quot;);
    response.getOutputStream().write(pdfData);
}

</code></pre><hr id="2078d968-54a6-80cf-9270-c9b339f1aa8d"/><h2 id="2078d968-54a6-8092-923c-d0af88058606" class="">5. å¯¼å‡ºå¸¸è§ä¼˜åŒ–å»ºè®®</h2><table id="2078d968-54a6-80fe-9b36-d4a28c8bf3ad" class="simple-table"><tbody><tr id="2078d968-54a6-808c-8bed-c415b966b8b0"><td id="]qnc" class="">é—®é¢˜</td><td id="gR{R" class="">å»ºè®®</td></tr><tr id="2078d968-54a6-8035-a09d-e4212d8ebe68"><td id="]qnc" class="">æ•°æ®é‡è¿‡å¤§ï¼ˆ10W+ï¼‰</td><td id="gR{R" class="">ä½¿ç”¨åˆ†é¡µå¯¼å‡º + åˆ†æ‰¹å†™å…¥</td></tr><tr id="2078d968-54a6-80ed-9593-fa307484a341"><td id="]qnc" class="">å¯¼å‡ºè€—æ—¶é•¿</td><td id="gR{R" class="">ä½¿ç”¨ <code>@Async</code> å¼‚æ­¥ç”Ÿæˆæ–‡ä»¶ï¼Œå®Œæˆåæä¾›ä¸‹è½½é“¾æ¥</td></tr><tr id="2078d968-54a6-80f2-a140-e074df3a51cf"><td id="]qnc" class="">æ–‡ä»¶ä¸‹è½½å¤±è´¥ï¼ˆä¸­æ–‡ä¹±ç ï¼‰</td><td id="gR{R" class="">è®¾ç½®å“åº”å¤´ <code>Content-Disposition</code> ç¼–ç </td></tr><tr id="2078d968-54a6-8026-a2c2-ec28c1737948"><td id="]qnc" class="">Excel æ ·å¼éœ€æ±‚</td><td id="gR{R" class="">ä½¿ç”¨ Apache POI çš„ CellStyle æ ·å¼æ§åˆ¶</td></tr></tbody></table><hr id="2078d968-54a6-8078-aa42-e1b8f52d26d4"/><h2 id="2078d968-54a6-8063-abb3-cfe8d2f12efe" class="">ğŸ§  é¢è¯•å¼ºåŒ–é—®é¢˜</h2><hr id="2078d968-54a6-80fa-8f76-e86adb312ded"/><h3 id="2078d968-54a6-8035-942b-e8810e233528" class="">â“ Q1ï¼šä½ ä»¬é¡¹ç›®ä¸­å¦‚ä½•å®ç°æ•°æ®å¯¼å‡ºï¼Ÿå¦‚ä½•é€‰æ‹©å¯¼å‡ºæ ¼å¼ï¼Ÿ</h3><p id="2078d968-54a6-80ae-bec2-fc776cf8a669" class="">âœ… å›ç­”è¦ç‚¹ï¼š</p><blockquote id="2078d968-54a6-80a9-9cbe-f02f9a5dabc4" class="">æˆ‘ä»¬æ”¯æŒ CSV / Excel / PDF å¤šç§æ ¼å¼å¯¼å‡ºã€‚æ ¹æ®ä½¿ç”¨åœºæ™¯é€‰æ‹©ï¼šæ•°æ®é‡å¤§ç”¨ CSVï¼Œè¡¨æ ¼æŠ¥è¡¨ç”¨ Excelï¼Œæ­£å¼æ–‡æ¡£æˆ–æ‰“å°éœ€æ±‚ç”¨ PDFã€‚ç»Ÿä¸€ä½¿ç”¨ä¸‹è½½æ¥å£æ–¹å¼ï¼Œæ”¯æŒå¯¼å‡ºå½“å‰é¡µæˆ–å…¨é‡æ•°æ®ã€‚</blockquote><hr id="2078d968-54a6-8005-bb2d-ed54b6062a9f"/><h3 id="2078d968-54a6-805a-b843-e2cc52d9301d" class="">â“ Q2ï¼šåç«¯å¯¼å‡ºæ—¶å¦‚ä½•é˜²æ­¢æ€§èƒ½é—®é¢˜ï¼Ÿ</h3><p id="2078d968-54a6-8094-9428-dae9bfb1538f" class="">âœ… å›ç­”è¦ç‚¹ï¼š</p><blockquote id="2078d968-54a6-801a-a44a-ea49d5ab8023" class="">é™åˆ¶å¯¼å‡ºæœ€å¤§æ•°æ®æ¡æ•°ï¼ˆå¦‚ 5 ä¸‡ï¼‰ä½¿ç”¨åˆ†é¡µæŸ¥è¯¢+åˆ†æ‰¹å†™å…¥æ–‡ä»¶è€—æ—¶ä»»åŠ¡ä½¿ç”¨å¼‚æ­¥æ‰§è¡Œï¼Œå‰ç«¯æä¾›ã€Œæ–‡ä»¶ç”Ÿæˆä¸­ã€æç¤ºä½¿ç”¨å†…å­˜æµè€Œéç£ç›˜ I/O å‡å°‘ç­‰å¾…æ—¶é—´</blockquote><hr id="2078d968-54a6-809d-a3a7-ce5d3783efb5"/><h2 id="2078d968-54a6-8097-9990-e2879e2b31ab" class="">ğŸ“š å°ç»“å›é¡¾</h2><table id="2078d968-54a6-80aa-b187-d057c523d32b" class="simple-table"><tbody><tr id="2078d968-54a6-8038-8c4a-e03b3fb4346a"><td id="sZV|" class="">å¯¼å‡ºç±»å‹</td><td id="YkwB" class="">å·¥å…·</td><td id="pB_z" class="">ä¼˜åŠ¿ä¸ä½¿ç”¨åœºæ™¯</td></tr><tr id="2078d968-54a6-8028-90fc-d7651d968813"><td id="sZV|" class="">CSV</td><td id="YkwB" class="">åŸç”Ÿ Java æ‹¼æ¥</td><td id="pB_z" class="">ç®€æ´å¿«é€Ÿï¼Œé€‚åˆæµ·é‡æ•°æ®</td></tr><tr id="2078d968-54a6-80f9-a8e9-c2cc5afd203f"><td id="sZV|" class="">Excel</td><td id="YkwB" class="">Apache POI</td><td id="pB_z" class="">æ”¯æŒæ ·å¼ã€è¡¨æ ¼ï¼Œé€‚åˆåå°å¯¼å‡ºæŠ¥è¡¨</td></tr><tr id="2078d968-54a6-8017-b84f-f6d802118bab"><td id="sZV|" class="">PDF</td><td id="YkwB" class="">iText PDF</td><td id="pB_z" class="">æ­£å¼æ–‡ä»¶ã€åˆåŒã€æŠ¥å‘Šç±»å†…å®¹</td></tr><tr id="2078d968-54a6-80d1-9f52-e42fefbaabd3"><td id="sZV|" class="">å“åº”å¤´è®¾ç½®</td><td id="YkwB" class="">Content-Disposition</td><td id="pB_z" class="">è®©æµè§ˆå™¨è‡ªåŠ¨ä¸‹è½½æŒ‡å®šæ–‡ä»¶å</td></tr><tr id="2078d968-54a6-809c-93f3-cd13c363371a"><td id="sZV|" class="">æ€§èƒ½å»ºè®®</td><td id="YkwB" class="">åˆ†é¡µå¯¼å‡º + å¼‚æ­¥ç”Ÿæˆ</td><td id="pB_z" class="">é¿å…å¯¼å‡ºæ—¶é˜»å¡ä¸»çº¿ç¨‹æˆ–å†…å­˜æº¢å‡º</td></tr></tbody></table><p id="2078d968-54a6-8011-9d13-cd541e53beb9" class="">
</p><p id="2078d968-54a6-80f4-b419-d303b32836ca" class="">
</p><p id="2078d968-54a6-8049-90f8-e96e80f53592" class="">
</p><p id="2078d968-54a6-80bc-bc59-fa63b84c5ffc" class="">
</p><p id="2078d968-54a6-8054-bbd8-cd14d95b1098" class="">
</p><h1 id="s20" class="">ç¬¬20ç« ï¼šç³»ç»ŸåŸºç¡€æ¨¡å—ç»Ÿä¸€è®¾è®¡æ€»ç»“ï¼ˆç™»å½• / æƒé™ / åˆ†é¡µ / ä¸Šä¼  / å¼‚å¸¸ / å¯¼å‡º ç­‰ï¼‰</h1><blockquote id="2078d968-54a6-80b0-9713-cea1c355f2bf" class="">âœ… æœ¬ç« ç›®æ ‡ï¼š<ul id="2078d968-54a6-8004-b0a6-fc6915774048" class="bulleted-list"><li style="list-style-type:disc">æ•´ä½“å›é¡¾å¹¶ç»Ÿä¸€æ•´ç†ç³»ç»Ÿå¸¸ç”¨åŠŸèƒ½æ¨¡å—</li></ul><ul id="2078d968-54a6-801d-a892-c037ad754e9d" class="bulleted-list"><li style="list-style-type:disc">è¾“å‡ºä¸€ä»½å®Œæ•´çš„â€œé¡¹ç›®éª¨æ¶æ¨¡æ¿è®¾è®¡è§„èŒƒâ€</li></ul><ul id="2078d968-54a6-80f4-b0e3-ce33091c2343" class="bulleted-list"><li style="list-style-type:disc">æ˜ç¡®æ¨¡å—é—´çš„èŒè´£è¾¹ç•Œä¸è°ƒç”¨å…³ç³»</li></ul><ul id="2078d968-54a6-8082-9918-ca1031b0deb7" class="bulleted-list"><li style="list-style-type:disc">ğŸŒŸ æ‹“å±•ï¼šå¦‚ä½•æ„å»ºä¼ä¸šçº§ Spring Boot é¡¹ç›®æ¨¡æ¿</li></ul><ul id="2078d968-54a6-8034-8893-cc4c31969c9b" class="bulleted-list"><li style="list-style-type:disc">ğŸ§  é¢è¯•å¼ºåŒ–ï¼šé¡¹ç›®ç»“æ„è®¾è®¡ã€é€šç”¨æ¨¡å—æå–ã€åˆ†å±‚ç†è§£</li></ul></blockquote><hr id="2078d968-54a6-8076-bbd7-cf3870774f8b"/><h2 id="2078d968-54a6-802f-a3e4-c0ce99e5bdf1" class="">1. é€šç”¨é¡¹ç›®ç»“æ„æ€»è§ˆï¼ˆæ¨èï¼‰</h2><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-8052-9289-c0f299d8d740" class="code"><code class="language-Plain Text" style="white-space:pre-wrap;word-break:break-all">text

src/
 â”œâ”€â”€ main/
 â”‚    â”œâ”€â”€ java/
 â”‚    â”‚    â””â”€â”€ com.example.demo/
 â”‚    â”‚         â”œâ”€â”€ controller/
 â”‚    â”‚         â”œâ”€â”€ service/
 â”‚    â”‚         â”œâ”€â”€ mapper/
 â”‚    â”‚         â”œâ”€â”€ entity/
 â”‚    â”‚         â”œâ”€â”€ dto/       &lt;-- è¯·æ±‚å‚æ•°å¯¹è±¡
 â”‚    â”‚         â”œâ”€â”€ vo/        &lt;-- è¿”å›ç»“æœå¯¹è±¡
 â”‚    â”‚         â”œâ”€â”€ config/    &lt;-- å…¨å±€é…ç½®ç±»
 â”‚    â”‚         â”œâ”€â”€ util/      &lt;-- å·¥å…·ç±»
 â”‚    â”‚         â””â”€â”€ common/    &lt;-- æšä¸¾/é€šç”¨å°è£…/å¼‚å¸¸å®šä¹‰
 â”‚    â””â”€â”€ resources/
 â”‚         â”œâ”€â”€ mapper/         &lt;-- XMLæ–‡ä»¶
 â”‚         â””â”€â”€ application.yml

</code></pre><p id="2078d968-54a6-8000-835a-cbb28b4059a6" class="">âœ… åˆ†å±‚æ¸…æ™°ï¼Œå¯ç»´æŠ¤æ€§é«˜ï¼Œæ”¯æŒæ¨ªå‘æ‰©å±•ä¸å¤šäººåä½œã€‚</p><hr id="2078d968-54a6-8066-baf4-d21e7d107239"/><h2 id="2078d968-54a6-80bc-bc09-fb9da66505fd" class="">2. ç™»å½•ä¸æƒé™æ¨¡å—è®¾è®¡å»ºè®®</h2><table id="2078d968-54a6-8099-8379-e4dc1b3c34ff" class="simple-table"><tbody><tr id="2078d968-54a6-80dd-a3a0-fb3cfc700e9a"><td id="ZW_Z" class="">æ¨¡å—</td><td id="K_Zt" class="">å»ºè®®</td></tr><tr id="2078d968-54a6-8021-8005-e1b97ed3ec35"><td id="ZW_Z" class="">ç™»å½•</td><td id="K_Zt" class="">ä½¿ç”¨ <code>Spring Security</code> æˆ–æ‰‹å†™ç™»å½•æ‹¦æˆªå™¨</td></tr><tr id="2078d968-54a6-801a-8016-e6d142415e0a"><td id="ZW_Z" class="">é‰´æƒ</td><td id="K_Zt" class="">JWT + ç”¨æˆ·è§’è‰²æƒé™ç®¡ç†</td></tr><tr id="2078d968-54a6-8042-a482-d926700f0ad9"><td id="ZW_Z" class="">æ‹¦æˆªå™¨</td><td id="K_Zt" class="">ç»Ÿä¸€æ ¡éªŒ token / session æœ‰æ•ˆæ€§</td></tr><tr id="2078d968-54a6-8079-9117-ebade453d8e1"><td id="ZW_Z" class="">ç™»å½•æ¥å£</td><td id="K_Zt" class="">è¿”å› <code>token</code>ï¼Œå­˜å‰ç«¯æˆ–ç¼“å­˜ä¸­</td></tr></tbody></table><hr id="2078d968-54a6-805d-b124-f0737f331a1e"/><h3 id="2078d968-54a6-8098-928e-c76da487d722" class="">âœ… ç™»å½•æ¥å£ç»“æ„ç¤ºä¾‹ï¼š</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-8016-96cb-e1d45ed7570c" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

@PostMapping(&quot;/login&quot;)
public Result&lt;?&gt; login(@RequestBody LoginForm form) {
    User user = userService.validateUser(form);
    String token = jwtUtil.generateToken(user);
    return Result.success(Map.of(&quot;token&quot;, token));
}

</code></pre><hr id="2078d968-54a6-80de-bfd3-c6139ff56b56"/><h2 id="2078d968-54a6-80dd-92f5-f063a9dc5eda" class="">3. å¼‚å¸¸å¤„ç†æ¨¡å—è®¾è®¡</h2><p id="2078d968-54a6-80db-93b3-f212356165d2" class="">æ¨¡å—åŒ…æ‹¬ï¼š</p><ul id="2078d968-54a6-80fe-9502-c3e31adaa1b3" class="bulleted-list"><li style="list-style-type:disc">å…¨å±€å¼‚å¸¸å¤„ç†å™¨ï¼š@RestControllerAdvice</li></ul><ul id="2078d968-54a6-801c-bc4d-d3569621cf80" class="bulleted-list"><li style="list-style-type:disc">è‡ªå®šä¹‰å¼‚å¸¸ç±»ï¼šBizException</li></ul><ul id="2078d968-54a6-80f8-881c-ccc6415c4818" class="bulleted-list"><li style="list-style-type:disc">çŠ¶æ€ç ç»Ÿä¸€æšä¸¾ï¼šResultCode</li></ul><p id="2078d968-54a6-80e4-8d24-fe87dce7259d" class="">âœ… æ ¸å¿ƒç›®çš„ï¼šå¼€å‘é˜¶æ®µæ˜“è°ƒè¯•ï¼Œè¿è¡Œé˜¶æ®µå‹å¥½æç¤ºã€‚</p><hr id="2078d968-54a6-8076-b15a-f1b56427c250"/><h2 id="2078d968-54a6-808d-addb-c27c6aa11dd0" class="">4. åˆ†é¡µæ¨¡å—</h2><table id="2078d968-54a6-806c-8163-ec484053cadf" class="simple-table"><tbody><tr id="2078d968-54a6-8049-9f05-f856d9db9bdd"><td id="gDww" class="">ç»„ä»¶</td><td id="LALq" class="">è¯´æ˜</td></tr><tr id="2078d968-54a6-80bc-9fa7-d66508289917"><td id="gDww" class="">PageQuery</td><td id="LALq" class="">æ¥æ”¶åˆ†é¡µè¯·æ±‚ï¼ˆpageNum/pageSizeï¼‰</td></tr><tr id="2078d968-54a6-80bd-86fe-e468da57ba2a"><td id="gDww" class="">PageResult</td><td id="LALq" class="">è¿”å›åˆ†é¡µç»“æ„ï¼ˆlist + totalï¼‰</td></tr><tr id="2078d968-54a6-80ae-83ad-d7b0c3819cd8"><td id="gDww" class="">PageHelperæ’ä»¶</td><td id="LALq" class="">å¿«é€Ÿå®ç°åˆ†é¡µ</td></tr></tbody></table><p id="2078d968-54a6-802f-9964-cf0b61254bec" class="">ğŸ” å»ºè®®å°è£…åˆ†é¡µæ¨¡æ¿æ–¹æ³•ï¼Œæ‰€æœ‰åˆ†é¡µåœºæ™¯ç»Ÿä¸€ä½¿ç”¨ã€‚</p><hr id="2078d968-54a6-8099-81ce-c3dee97c9c88"/><h2 id="2078d968-54a6-8010-bddc-f2292a9b83bd" class="">5. æ–‡ä»¶ä¸Šä¼ æ¨¡å—ï¼ˆå‰åç«¯åˆ†ç¦»åœºæ™¯ï¼‰</h2><h3 id="2078d968-54a6-8017-9357-f50a946e54ad" class="">âœ… åç«¯æ¥å£ï¼ˆä½¿ç”¨ MultipartFileï¼‰ï¼š</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-80da-ad01-dfe7aaeea1c2" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

@PostMapping(&quot;/upload&quot;)
public Result&lt;String&gt; upload(@RequestParam MultipartFile file) throws IOException {
    String path = fileService.save(file);
    return Result.success(path); // å¯è¿”å›è®¿é—®é“¾æ¥
}

</code></pre><h3 id="2078d968-54a6-8079-99bc-fb3817703731" class="">âœ… é…ç½®ä¸Šä¼ å¤§å°é™åˆ¶ï¼ˆapplication.ymlï¼‰ï¼š</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-80c3-b3bd-cee4367e51dc" class="code"><code class="language-YAML" style="white-space:pre-wrap;word-break:break-all">yaml

spring:
  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 50MB

</code></pre><hr id="2078d968-54a6-80ee-b521-fb0ea8b026f3"/><h2 id="2078d968-54a6-804f-a8f2-f4489fde1243" class="">6. æ•°æ®å¯¼å‡ºæ¨¡å—</h2><p id="2078d968-54a6-8011-a265-ca65a45d0e61" class="">å·²åœ¨ä¸Šä¸€ç« è¯¦è§£ï¼Œæ¨èå°†æ¯ç§å¯¼å‡ºæ ¼å¼åˆ†åˆ«å°è£…ä¸ºå·¥å…·ç±»ï¼Œå¹¶é›†ä¸­ç®¡ç†å¯¼å‡ºå…¥å£ã€‚</p><hr id="2078d968-54a6-8047-baf5-f3ed1ace309e"/><h2 id="2078d968-54a6-8025-bd8a-d8b67e15241f" class="">7. å·¥å…·ç±»ä¸é€šç”¨ç»„ä»¶å°è£…å»ºè®®</h2><table id="2078d968-54a6-8048-b393-e475031e08b5" class="simple-table"><tbody><tr id="2078d968-54a6-804f-affd-ff3ee181f9b7"><td id="Zgh?" class="">æ¨¡å—</td><td id="dos?" class="">å»ºè®®å‘½å</td><td id="dpUb" class="">åŠŸèƒ½è¯´æ˜</td></tr><tr id="2078d968-54a6-808c-b4d1-dbe2b491572a"><td id="Zgh?" class="">JWT å·¥å…·ç±»</td><td id="dos?" class="">JwtUtil.java</td><td id="dpUb" class="">ç”Ÿæˆ/æ ¡éªŒtoken</td></tr><tr id="2078d968-54a6-805a-9359-c8c09d729a23"><td id="Zgh?" class="">æ–‡ä»¶å­˜å‚¨ç±»</td><td id="dos?" class="">FileUtil.java</td><td id="dpUb" class="">ä¿å­˜æ–‡ä»¶/è·å–è·¯å¾„/åˆ é™¤</td></tr><tr id="2078d968-54a6-8019-b33e-f68c900139c0"><td id="Zgh?" class="">CSVå¯¼å‡ºç±»</td><td id="dos?" class="">CsvExportUtil.java</td><td id="dpUb" class="">å†™å…¥CSVå­—ç¬¦ä¸²/ç”Ÿæˆå­—èŠ‚æµ</td></tr><tr id="2078d968-54a6-80a7-aae4-fd1991fb9ae1"><td id="Zgh?" class="">æ—¥æœŸå¤„ç†å·¥å…·</td><td id="dos?" class="">DateUtil.java</td><td id="dpUb" class="">è§£æ/æ ¼å¼åŒ–/æ—¶é—´åŒºé—´</td></tr><tr id="2078d968-54a6-80da-9d4a-f50604fa0361"><td id="Zgh?" class="">æšä¸¾å¤„ç†å·¥å…·ç±»</td><td id="dos?" class="">EnumUtil.java</td><td id="dpUb" class="">è½¬ä¸­æ–‡åã€æŸ¥æ‰¾æšä¸¾ç­‰</td></tr></tbody></table><hr id="2078d968-54a6-8003-afb4-e8c859886387"/><h2 id="2078d968-54a6-80f8-ad5e-cb283c771eaa" class="">8. æ¨¡å—ç»„åˆå…³ç³»å›¾ï¼ˆç®€è¦é€»è¾‘æµï¼‰</h2><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-80fc-b8db-caccad71ae9b" class="code"><code class="language-Plain Text" style="white-space:pre-wrap;word-break:break-all">css

[å‰ç«¯] ---&gt; [Controller] ---&gt; [Service] ---&gt; [Mapper]
                               â†“
                         [å·¥å…·ç±» / é€šç”¨æ¨¡å—]
                               â†“
                          [æ•°æ®åº“ / ç¼“å­˜]

</code></pre><p id="2078d968-54a6-8015-b21b-d117342c3d42" class="">æ‰€æœ‰æ¨¡å—å‡ä¿æŒ<strong>å•ä¸€èŒè´£åŸåˆ™</strong>ï¼Œé€šè¿‡æ³¨å…¥è°ƒç”¨æ–¹å¼è¿æ¥ã€‚</p><hr id="2078d968-54a6-80b4-9e9f-fc6d54feff04"/><h2 id="2078d968-54a6-80b0-a433-e7f74143a029" class="">ğŸ§  é¢è¯•å¼ºåŒ–é—®é¢˜</h2><hr id="2078d968-54a6-80f8-9abd-c724277e5c93"/><h3 id="2078d968-54a6-80de-9b9a-ef391f7a46c1" class="">â“ Q1ï¼šä½ ä»¬é¡¹ç›®æ˜¯å¦‚ä½•è®¾è®¡åŸºç¡€æ¨¡å—çš„ï¼Ÿæœ‰å“ªäº›é€šç”¨è®¾è®¡ï¼Ÿ</h3><p id="2078d968-54a6-80a3-b7f8-e9451437666c" class="">âœ… å›ç­”è¦ç‚¹ï¼š</p><blockquote id="2078d968-54a6-8068-acd3-c6f895390962" class="">æˆ‘ä»¬å°†åˆ†é¡µã€ç»Ÿä¸€è¿”å›ã€å¼‚å¸¸ã€å¯¼å‡ºã€æ–‡ä»¶ä¸Šä¼ ç­‰åŠŸèƒ½æå–ä¸ºé€šç”¨æ¨¡å—ï¼Œé™ä½è€¦åˆåº¦ã€æé«˜å¤ç”¨ç‡ï¼Œå¹¶é€šè¿‡ç»Ÿä¸€ç»“æ„ï¼ˆå¦‚ Resultã€PageResultï¼‰æå‡æ¥å£ä¸€è‡´æ€§ã€‚</blockquote><hr id="2078d968-54a6-809b-9821-d205e658532d"/><h3 id="2078d968-54a6-80b1-a209-eba1d397dc5c" class="">â“ Q2ï¼šé¡¹ç›®ä¸­æ˜¯å¦æœ‰è‡ªå·±æ­å»ºçš„å·¥ç¨‹éª¨æ¶ï¼Ÿ</h3><p id="2078d968-54a6-80da-88e0-ce746df09968" class="">âœ… å›ç­”è¦ç‚¹ï¼š</p><blockquote id="2078d968-54a6-80e5-b889-ff9fe4c2aedb" class="">æœ‰ï¼Œæˆ‘ä»¬åŸºäº Spring Boot æ„å»ºäº†é€šç”¨æ¨¡æ¿å·¥ç¨‹ï¼Œå†…ç½®ï¼šç»Ÿä¸€å“åº”ç»“æ„ã€å¼‚å¸¸å¤„ç†ã€åˆ†é¡µæ”¯æŒã€æƒé™æ ¡éªŒã€å¯¼å‡ºå·¥å…·ã€é€šç”¨é…ç½®ç­‰ã€‚æ¯ä¸ªæ–°é¡¹ç›®éƒ½å¯åŸºäºæ¨¡æ¿å¿«é€Ÿæ­å»ºã€‚</blockquote><hr id="2078d968-54a6-8042-adf4-e004475823ac"/><h3 id="2078d968-54a6-8028-864d-ed38e5c0cc30" class="">â“ Q3ï¼šå¦‚ä½•ä¿è¯ä»£ç æ•´æ´ä¸å¤šäººåä½œæ•ˆç‡ï¼Ÿ</h3><p id="2078d968-54a6-80c6-b14e-cc6bfc170429" class="">âœ… å›ç­”è¦ç‚¹ï¼š</p><blockquote id="2078d968-54a6-8068-a46b-cae4bc2c96ab" class="">ä½¿ç”¨åˆ†å±‚è®¾è®¡ï¼ˆController-Service-Mapperï¼‰ã€æ¨¡å—èŒè´£æ¸…æ™°ã€å‘½åè§„èŒƒã€ä½¿ç”¨ DTO/VO æ˜ç¡®è¯·æ±‚å“åº”ç»“æ„ï¼ŒåŒæ—¶å€ŸåŠ© Swagger æ–‡æ¡£ä¸æ¥å£æ¨¡æ‹Ÿä¿éšœå‰åç«¯ååŒã€‚</blockquote><hr id="2078d968-54a6-80ab-b1e4-df9c39b3e55f"/><h2 id="2078d968-54a6-806c-a828-dc0f8eb23ccb" class="">ğŸ“š å°ç»“å›é¡¾</h2><table id="2078d968-54a6-8070-9d57-f9be2014ab37" class="simple-table"><tbody><tr id="2078d968-54a6-803c-9440-f9efbad873b6"><td id="~&lt;mF" class="">æ¨¡å—</td><td id="YvQ`" class="">æ ¸å¿ƒå†…å®¹</td></tr><tr id="2078d968-54a6-8083-a8cd-c72c12b23d66"><td id="~&lt;mF" class="">ç™»å½•ä¸æƒé™</td><td id="YvQ`" class="">JWTã€æƒé™æ ¡éªŒã€æ‹¦æˆªå™¨</td></tr><tr id="2078d968-54a6-80c6-a7f3-ff0747ae97d6"><td id="~&lt;mF" class="">å¼‚å¸¸å¤„ç†</td><td id="YvQ`" class="">ç»Ÿä¸€å¼‚å¸¸ç±» + æšä¸¾ + é€šç”¨è¿”å›å°è£…</td></tr><tr id="2078d968-54a6-80d8-9a1b-c0bff4eb93e3"><td id="~&lt;mF" class="">åˆ†é¡µ</td><td id="YvQ`" class="">PageHelper + PageResult + PageQuery</td></tr><tr id="2078d968-54a6-80c4-9417-dfc496140829"><td id="~&lt;mF" class="">ä¸Šä¼ </td><td id="YvQ`" class="">MultipartFileã€ä¿å­˜è·¯å¾„ã€é™åˆ¶å¤§å°</td></tr><tr id="2078d968-54a6-8045-96c7-d13c6cbe1fb0"><td id="~&lt;mF" class="">å¯¼å‡º</td><td id="YvQ`" class="">CSV / Excel / PDF å·¥å…·ç±»å°è£…</td></tr><tr id="2078d968-54a6-80e1-b250-d04c4f8b38fa"><td id="~&lt;mF" class="">é¡¹ç›®ç»“æ„</td><td id="YvQ`" class="">æ§åˆ¶å™¨ã€æœåŠ¡ã€Mapperã€é…ç½®ã€VO/DTO</td></tr></tbody></table><p id="2078d968-54a6-80b1-9c1f-e85fa6828a8c" class="">
</p><p id="2078d968-54a6-8025-b5c3-e4a79ce057c0" class="">
</p><p id="2078d968-54a6-8009-a246-e37e49c03383" class="">
</p><p id="2078d968-54a6-8027-ba23-f395f0788eba" class="">
</p><p id="2078d968-54a6-80e3-b2e7-dfc2f4dd6584" class="">
</p><h1 id="s21" class="">ç¬¬21ç« ï¼šæ¥å£æ–‡æ¡£ç”Ÿæˆä¸è°ƒè¯•ï¼ˆSwagger 3 / OpenAPI + Postman å®æˆ˜ï¼‰</h1><blockquote id="2078d968-54a6-8073-9768-d1f923a35769" class="">âœ… æœ¬ç« ç›®æ ‡ï¼š<ul id="2078d968-54a6-80d6-b76f-cf53dae78a53" class="bulleted-list"><li style="list-style-type:disc">ä½¿ç”¨ Swagger 3/OpenAPI è‡ªåŠ¨ç”Ÿæˆæ¥å£æ–‡æ¡£</li></ul><ul id="2078d968-54a6-8018-a9bc-f17f4177583d" class="bulleted-list"><li style="list-style-type:disc">å¿«é€ŸæŸ¥çœ‹ã€æµ‹è¯•ã€åˆ†äº« API</li></ul><ul id="2078d968-54a6-8049-9989-c880c2cd2900" class="bulleted-list"><li style="list-style-type:disc">å®æˆ˜æ¼”ç»ƒå‰åç«¯æ¥å£è”è°ƒæŠ€å·§</li></ul><ul id="2078d968-54a6-8018-9618-cf685f7c440f" class="bulleted-list"><li style="list-style-type:disc">ğŸ§  æ‹“å±•ï¼šæ¥å£è§„èŒƒè®¾è®¡ä¸å¸¸è§é¢è¯•é¢˜è§£æ</li></ul><ul id="2078d968-54a6-8077-bc85-f313ca77e04e" class="bulleted-list"><li style="list-style-type:disc">ğŸ”– çœŸå®æ¥å£æ³¨è§£ + ç¤ºä¾‹ä»£ç ï¼Œä¾¿äºç«‹å³å®è·µ</li></ul></blockquote><hr id="2078d968-54a6-807e-b559-ea0c85ce2864"/><h2 id="2078d968-54a6-8034-8e1c-de73b006bbf8" class="">1. ä»€ä¹ˆæ˜¯ Swaggerï¼Ÿ</h2><p id="2078d968-54a6-806e-ae29-c5b5d686fdd0" class=""><strong>Swaggerï¼ˆOpenAPIï¼‰</strong> æ˜¯ä¸€ç§ API æ–‡æ¡£æ ‡å‡†ï¼Œé€šè¿‡æ³¨è§£è‡ªåŠ¨ç”Ÿæˆå¯äº¤äº’çš„æ–‡æ¡£é¡µé¢ï¼Œè®©å‰åç«¯éƒ½èƒ½ç›´è§‚çœ‹åˆ°æ¥å£ç»“æ„ã€å‚æ•°ã€å“åº”ã€‚</p><hr id="2078d968-54a6-8047-9202-c3afb4535628"/><h2 id="2078d968-54a6-8062-b916-d10c70d20351" class="">2. å¼•å…¥ Swagger ä¾èµ–ï¼ˆSpringdoc OpenAPIï¼‰</h2><p id="2078d968-54a6-80cf-9f60-d7054b0ba9b8" class="">æ¨èä½¿ç”¨æœ€æ–°ç‰ˆï¼š<code>springdoc-openapi</code>ï¼ˆå…¼å®¹ Spring Boot 3ï¼‰</p><h3 id="2078d968-54a6-8043-8e6c-fb5a45854398" class="">Maven æ·»åŠ ä¾èµ–ï¼š</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-80e7-b16f-ee0f75ea1f31" class="code"><code class="language-XML" style="white-space:pre-wrap;word-break:break-all">xml

&lt;dependency&gt;
  &lt;groupId&gt;org.springdoc&lt;/groupId&gt;
  &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;
  &lt;version&gt;2.2.0&lt;/version&gt;
&lt;/dependency&gt;

</code></pre><hr id="2078d968-54a6-80e3-b722-df4debece7f6"/><h2 id="2078d968-54a6-803d-b8f4-e08a64cf2605" class="">3. å¯ç”¨ Swagger é¡µé¢</h2><h3 id="2078d968-54a6-8053-9f53-d7a91abd2c50" class="">âœ… application.ymlï¼š</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-80bc-8bac-f21228ad1a01" class="code"><code class="language-YAML" style="white-space:pre-wrap;word-break:break-all">yaml

springdoc:
  api-docs:
    enabled: true
  swagger-ui:
    path: /swagger-ui.html

</code></pre><h3 id="2078d968-54a6-80f7-9f05-c4e04757ddf8" class="">å¯åŠ¨åè®¿é—®ï¼š</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-80fe-ab70-e143bcddcc2e" class="code"><code class="language-Plain Text" style="white-space:pre-wrap;word-break:break-all">bash

http://localhost:8080/swagger-ui.html

</code></pre><p id="2078d968-54a6-80ac-bd50-ca0f09183276" class="">å³å¯çœ‹åˆ°æ‰€æœ‰æ¥å£çš„è¯´æ˜ã€å‚æ•°ã€è¯·æ±‚ç¤ºä¾‹ç­‰ã€‚</p><hr id="2078d968-54a6-80a6-a3bc-cbbb44cd562c"/><h2 id="2078d968-54a6-80bc-8985-cac98cd9b12f" class="">4. å¸¸ç”¨æ³¨è§£è¯´æ˜ä¸å®ä¾‹</h2><table id="2078d968-54a6-80cd-85d1-f30dd384c11b" class="simple-table"><tbody><tr id="2078d968-54a6-80e8-a56a-db15d57c0c13"><td id="ukG^" class="">æ³¨è§£åç§°</td><td id="GBU\" class="">ç”¨æ³•è¯´æ˜</td></tr><tr id="2078d968-54a6-8079-8da1-c2379c4df0f5"><td id="ukG^" class=""><code>@Operation</code></td><td id="GBU\" class="">æ ‡æ³¨æ¥å£åŠŸèƒ½/æè¿°</td></tr><tr id="2078d968-54a6-8067-8cff-f584121dfce4"><td id="ukG^" class=""><code>@Parameter</code></td><td id="GBU\" class="">æ ‡æ³¨æ¯ä¸ªè¯·æ±‚å‚æ•°</td></tr><tr id="2078d968-54a6-8070-bf00-c3da02f27678"><td id="ukG^" class=""><code>@Schema</code></td><td id="GBU\" class="">å®šä¹‰å‚æ•°/è¿”å›å­—æ®µç»“æ„è¯´æ˜</td></tr><tr id="2078d968-54a6-805d-8031-dca0af7a183a"><td id="ukG^" class=""><code>@Tag</code></td><td id="GBU\" class="">æ¨¡å—åˆ†ç»„æ ‡ç­¾</td></tr></tbody></table><hr id="2078d968-54a6-8072-ab53-cffc86feb028"/><h3 id="2078d968-54a6-8014-8ad9-e60f19e77447" class="">ç¤ºä¾‹æ¥å£æ³¨è§£</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-8076-880c-ecfcbf5f8b04" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

@RestController
@RequestMapping(&quot;/users&quot;)
@Tag(name = &quot;ç”¨æˆ·ç®¡ç†æ¥å£&quot;, description = &quot;æä¾›ç”¨æˆ·çš„å¢åˆ æ”¹æŸ¥åŠŸèƒ½&quot;)
public class UserController {

    @Operation(summary = &quot;åˆ†é¡µè·å–ç”¨æˆ·åˆ—è¡¨&quot;)
    @PostMapping(&quot;/list&quot;)
    public Result&lt;PageResult&lt;UserVO&gt;&gt; listUsers(
        @RequestBody @Parameter(description = &quot;åˆ†é¡µè¯·æ±‚å‚æ•°&quot;) PageQuery query) {
        return Result.success(userService.getUsers(query));
    }

    @Operation(summary = &quot;æ ¹æ®IDè·å–ç”¨æˆ·è¯¦æƒ…&quot;)
    @GetMapping(&quot;/{id}&quot;)
    public Result&lt;UserVO&gt; getUser(
        @PathVariable @Parameter(description = &quot;ç”¨æˆ·ID&quot;) Long id) {
        return Result.success(userService.getById(id));
    }
}

</code></pre><hr id="2078d968-54a6-8043-8c3a-e8bd52ea1e55"/><h3 id="2078d968-54a6-8076-b810-f16394f66ac0" class="">DTO / VO ç±»æ³¨è§£ç¤ºä¾‹ï¼š</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-806b-8969-e87295521cab" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

@Data
@Schema(description = &quot;åˆ†é¡µè¯·æ±‚å‚æ•°&quot;)
public class PageQuery {
    @Schema(description = &quot;é¡µç &quot;, example = &quot;1&quot;)
    private Integer pageNum = 1;

    @Schema(description = &quot;æ¯é¡µæ¡æ•°&quot;, example = &quot;10&quot;)
    private Integer pageSize = 10;
}

</code></pre><hr id="2078d968-54a6-805a-8a78-dc281161d14e"/><h2 id="2078d968-54a6-8065-a42d-d5dabe318093" class="">5. ç”¨ Postman è°ƒè¯•æ¥å£</h2><h3 id="2078d968-54a6-806e-933d-cedc4049bc64" class="">ğŸ’¡ å¸¸ç”¨æŠ€å·§ï¼š</h3><table id="2078d968-54a6-80fc-8c16-fbc1da3f99eb" class="simple-table"><tbody><tr id="2078d968-54a6-802a-8932-c6941d1787f9"><td id="=vjf" class="">åŠŸèƒ½</td><td id="G@&lt;e" class="">æ“ä½œæè¿°</td></tr><tr id="2078d968-54a6-806f-9efa-d3446965f717"><td id="=vjf" class="">ä¿å­˜è¯·æ±‚</td><td id="G@&lt;e" class="">å¯å»ºé¡¹ç›®æ–‡ä»¶å¤¹ï¼ŒæŒ‰æ¨¡å—åˆ†ç±»ä¿å­˜æ¥å£</td></tr><tr id="2078d968-54a6-80e0-89b5-c883cb8bd77f"><td id="=vjf" class="">æ·»åŠ  Headers</td><td id="G@&lt;e" class="">å¦‚ <code>Authorization: Bearer xxx</code></td></tr><tr id="2078d968-54a6-80cc-ad3f-e2da23f69643"><td id="=vjf" class="">Body JSON æ ¼å¼</td><td id="G@&lt;e" class="">é€‰æ‹© <code>raw</code> + <code>JSON</code></td></tr><tr id="2078d968-54a6-8092-be04-f968c6ac0bf4"><td id="=vjf" class="">å¯¼å‡º Collection</td><td id="G@&lt;e" class="">åˆ†äº«ç»™ä»–äººè°ƒè¯•</td></tr></tbody></table><hr id="2078d968-54a6-80c6-a8ac-c1ef28628390"/><h2 id="2078d968-54a6-8036-a5df-f8b8641e9319" class="">6. Swagger é…åˆ Token è®¤è¯ï¼ˆJWT ç¤ºä¾‹ï¼‰</h2><p id="2078d968-54a6-80a6-be5b-d81089f5a12d" class="">Swagger ä¸­åŠ å…¥è®¤è¯ä¿¡æ¯ï¼Œåœ¨é¡¶éƒ¨ç»Ÿä¸€è®¾ç½®ï¼š</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-80bd-8706-f72d307dae43" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

@Configuration
public class SwaggerConfig {

    @Bean
    public OpenAPI customOpenAPI() {
        return new OpenAPI()
          .components(new Components()
            .addSecuritySchemes(&quot;bearerAuth&quot;,
                new SecurityScheme()
                    .type(SecurityScheme.Type.HTTP)
                    .scheme(&quot;bearer&quot;)
                    .bearerFormat(&quot;JWT&quot;)))
          .addSecurityItem(new SecurityRequirement().addList(&quot;bearerAuth&quot;));
    }
}

</code></pre><p id="2078d968-54a6-8098-8d2b-fa3cf05db7f5" class="">å‰ç«¯è°ƒç”¨æ—¶åŠ å…¥ï¼š</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-803d-b55a-edd75673efa1" class="code"><code class="language-Plain Text" style="white-space:pre-wrap;word-break:break-all">makefile

Authorization: Bearer xxxxx

</code></pre><p id="2078d968-54a6-80c3-b889-ea7383b7f00b" class="">Swagger é¡µé¢ä¼šåœ¨è¯·æ±‚ä¸­è‡ªåŠ¨åŠ ä¸Š tokenã€‚</p><hr id="2078d968-54a6-8061-a9b5-fdd31ad468c8"/><h2 id="2078d968-54a6-807f-aa91-c0dc3938a883" class="">ğŸ§  é¢è¯•å¼ºåŒ–é—®é¢˜</h2><hr id="2078d968-54a6-8093-923e-c223c6e311ac"/><h3 id="2078d968-54a6-8099-b536-d7461ca8082a" class="">â“ Q1ï¼šä½ ä»¬é¡¹ç›®ä¸­æ˜¯å¦‚ä½•ç®¡ç†æ¥å£æ–‡æ¡£çš„ï¼Ÿ</h3><p id="2078d968-54a6-8061-98fc-c6d57f50e27a" class="">âœ… å›ç­”è¦ç‚¹ï¼š</p><blockquote id="2078d968-54a6-8039-b809-f10a38fc1ecb" class="">ä½¿ç”¨ Springdoc OpenAPI è‡ªåŠ¨ç”Ÿæˆ Swagger æ¥å£æ–‡æ¡£ï¼Œæ‰€æœ‰æ¥å£å¼€å‘å®Œæˆåç«‹å³å¯åœ¨ /swagger-ui.html é¡µé¢æŸ¥çœ‹æ–‡æ¡£è¯´æ˜ã€è¯·æ±‚å‚æ•°å’Œå“åº”ç¤ºä¾‹ã€‚ä¹Ÿæ”¯æŒå¯¼å‡º OpenAPI JSON æ ¼å¼ç”¨äºè”è°ƒã€‚</blockquote><hr id="2078d968-54a6-8055-9481-f1e9e319c3bd"/><h3 id="2078d968-54a6-8024-9ce4-ece88e3b7255" class="">â“ Q2ï¼šSwagger å’Œ Postman æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿæ˜¯å¦èƒ½å…±å­˜ï¼Ÿ</h3><p id="2078d968-54a6-8063-bc2e-c9d6fa28c9b6" class="">âœ… å›ç­”è¦ç‚¹ï¼š</p><blockquote id="2078d968-54a6-80e5-bf64-c341841d8bf8" class="">Swagger æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„æ–‡æ¡£å’Œè°ƒè¯•å¹³å°ï¼Œé€‚åˆåç«¯ç»´æŠ¤æ¥å£è¯´æ˜ï¼›Postman æ›´é€‚åˆæµ‹è¯•äººå‘˜/å‰ç«¯è¿›è¡Œæ¥å£è°ƒç”¨å’Œæµ‹è¯•ã€‚æˆ‘ä»¬é¡¹ç›®ä¸­ä¸¤è€…å¹¶ç”¨ï¼šSwagger ç”Ÿæˆæ–‡æ¡£ï¼ŒPostman ç”¨äºæ–­è¨€å’Œå¯¼å‡ºé›†åˆã€‚</blockquote><hr id="2078d968-54a6-80d4-9f2e-d9e1c068e77c"/><h3 id="2078d968-54a6-8092-bcf4-fbbbf767392f" class="">â“ Q3ï¼šSwagger ä¸­å¦‚ä½•è®¾ç½®æ¥å£æƒé™ï¼Ÿ</h3><p id="2078d968-54a6-80dd-b78a-dc754daf593e" class="">âœ… å›ç­”è¦ç‚¹ï¼š</p><blockquote id="2078d968-54a6-8040-9ed4-d7f5c71ecdea" class="">é€šè¿‡ OpenAPI çš„ SecurityScheme é…ç½® JWT é‰´æƒï¼Œè®¾ç½®æ¯ä¸ªæ¥å£çš„ token éœ€æ±‚ã€‚ç™»å½•æˆåŠŸåï¼Œå°† token æ‰‹åŠ¨è®¾ç½®åˆ° Swagger é¡µé¢é¡¶éƒ¨ï¼Œå…¨å±€ç”Ÿæ•ˆã€‚</blockquote><hr id="2078d968-54a6-809e-a72b-fb90673b1ab6"/><h2 id="2078d968-54a6-8035-8806-f19746449305" class="">ğŸ“š å°ç»“å›é¡¾</h2><table id="2078d968-54a6-809d-91cc-dfd8f34ea39c" class="simple-table"><tbody><tr id="2078d968-54a6-801e-b0a5-d4553ce97df0"><td id="B;Kj" class="">å†…å®¹é¡¹</td><td id="Efpi" class="">å·¥å…·</td><td id="`{&lt;v" class="">ä½œç”¨è¯´æ˜</td></tr><tr id="2078d968-54a6-8042-a066-eba5ee38ec80"><td id="B;Kj" class="">æ¥å£æ–‡æ¡£ç”Ÿæˆ</td><td id="Efpi" class="">Swagger 3 / OpenAPI</td><td id="`{&lt;v" class="">è‡ªåŠ¨æ ‡æ³¨ + é¡µé¢äº¤äº’</td></tr><tr id="2078d968-54a6-80bb-8fa8-d182fa31a7a1"><td id="B;Kj" class="">æ¥å£è°ƒè¯•</td><td id="Efpi" class="">Postman</td><td id="`{&lt;v" class="">å¯ä¿å­˜ã€å¯¼å‡ºã€æ‰¹é‡æµ‹è¯•æ¥å£é›†åˆ</td></tr><tr id="2078d968-54a6-801f-b297-c870cd92389a"><td id="B;Kj" class="">å¸¸ç”¨æ³¨è§£</td><td id="Efpi" class=""><code>@Operation</code>ã€<code>@Schema</code> ç­‰</td><td id="`{&lt;v" class="">å®šä¹‰æ¥å£è¯´æ˜ã€å­—æ®µå«ä¹‰</td></tr><tr id="2078d968-54a6-807b-8e40-df6897237663"><td id="B;Kj" class="">tokenè®¾ç½®</td><td id="Efpi" class=""><code>SecurityScheme</code> é…ç½® JWT</td><td id="`{&lt;v" class="">æ¥å£æˆæƒæ¼”ç¤ºã€æƒé™è°ƒè¯•</td></tr></tbody></table><p id="2078d968-54a6-808a-ad8e-ccdacd7d0e92" class="">
</p><p id="2078d968-54a6-80ea-af03-df65a183362c" class="">
</p><p id="2078d968-54a6-80ee-8643-c5f2ab1397f3" class="">
</p><p id="2078d968-54a6-808b-a4c1-c903ef7f8005" class="">
</p><p id="2078d968-54a6-807a-8f9d-dfe2e05dd21a" class="">
</p><h1 id="s22" class="">ç¬¬22ç« ï¼šæƒé™æ§åˆ¶ä¸è§’è‰²ç®¡ç†ï¼ˆRBAC æƒé™æ¨¡å‹ + æ‹¦æˆªå™¨è®¾è®¡ + æ•°æ®æƒé™ï¼‰</h1><blockquote id="2078d968-54a6-8044-aa6b-c9864116e8b3" class="">âœ… æœ¬ç« ç›®æ ‡ï¼š<ul id="2078d968-54a6-8061-9532-f184caa7a2cd" class="bulleted-list"><li style="list-style-type:disc">æŒæ¡ RBAC æƒé™æ¨¡å‹æ ¸å¿ƒæ€æƒ³</li></ul><ul id="2078d968-54a6-80f6-a39e-c1baadb9613c" class="bulleted-list"><li style="list-style-type:disc">å®ç°è§’è‰²-æƒé™-ç”¨æˆ·çš„æ§åˆ¶é€»è¾‘</li></ul><ul id="2078d968-54a6-80a2-85bd-c901d166bded" class="bulleted-list"><li style="list-style-type:disc">æ­å»ºåŸºäº Token çš„æ¥å£æ‹¦æˆªæœºåˆ¶</li></ul><ul id="2078d968-54a6-8089-9ccd-cd345d229e8f" class="bulleted-list"><li style="list-style-type:disc">å®ç°é¡µé¢çº§æƒé™ä¸æ•°æ®æƒé™æ§åˆ¶</li></ul><ul id="2078d968-54a6-8053-aba4-cbeaf44954b2" class="bulleted-list"><li style="list-style-type:disc">ğŸ§  æ‹“å±•ï¼šæƒé™æ¨¡å‹è®¾è®¡å¸¸è§é¢è¯•é—®é¢˜ä¸ä¼˜åŒ–æ–¹æ¡ˆ</li></ul></blockquote><hr id="2078d968-54a6-801a-a3fe-e0683e02bde8"/><h2 id="2078d968-54a6-8041-b9ee-dd86d090d55b" class="">1. ä»€ä¹ˆæ˜¯ RBAC æƒé™æ¨¡å‹ï¼Ÿ</h2><p id="2078d968-54a6-8018-9c7d-f2309da69e09" class=""><strong>RBACï¼ˆRole-Based Access Controlï¼‰åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶</strong> æ˜¯ç›®å‰æœ€å¸¸è§çš„æƒé™è®¾è®¡æ–¹å¼ï¼š</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-80b1-8076-fa03157cf8e8" class="code"><code class="language-Plain Text" style="white-space:pre-wrap;word-break:break-all">

ç”¨æˆ·ï¼ˆUserï¼‰ â†’ æ‹¥æœ‰è§’è‰²ï¼ˆRoleï¼‰ â†’ æ‹¥æœ‰æƒé™ï¼ˆPermissionï¼‰

</code></pre><table id="2078d968-54a6-8004-b20b-db68405dc668" class="simple-table"><tbody><tr id="2078d968-54a6-8032-a319-e881acb44689"><td id="amVH" class="">å®ä½“</td><td id="NT;}" class="">è¯´æ˜</td><td id="W=ve" class="">ç¤ºä¾‹</td></tr><tr id="2078d968-54a6-80e5-8712-fd7038b7a164"><td id="amVH" class="">ç”¨æˆ·è¡¨</td><td id="NT;}" class="">user_tbl</td><td id="W=ve" class="">å¼ ä¸‰ã€æå››</td></tr><tr id="2078d968-54a6-807d-aa7e-f0e77cf4c8e1"><td id="amVH" class="">è§’è‰²è¡¨</td><td id="NT;}" class="">role_tbl</td><td id="W=ve" class="">ç®¡ç†å‘˜ã€æ•™å¸ˆã€å­¦ç”Ÿ</td></tr><tr id="2078d968-54a6-80b0-bfa0-ff10fedf4f69"><td id="amVH" class="">æƒé™è¡¨</td><td id="NT;}" class="">permission_tbl</td><td id="W=ve" class="">/user/add, /user/delete</td></tr><tr id="2078d968-54a6-80b7-bf39-dd25b39d8b21"><td id="amVH" class="">ä¸­é—´è¡¨</td><td id="NT;}" class="">user_role, role_permission</td><td id="W=ve" class="">ç»´æŠ¤å¤šå¯¹å¤šå…³ç³»</td></tr></tbody></table><hr id="2078d968-54a6-80b1-a5b9-edf6121da33c"/><h2 id="2078d968-54a6-800a-9244-db243032d1f9" class="">2. åŸºæœ¬æ•°æ®åº“è¡¨è®¾è®¡</h2><h3 id="2078d968-54a6-8061-abbb-fead710cb409" class="">âœ… ç”¨æˆ·è¡¨ï¼ˆuser_tblï¼‰</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-80c0-bef1-d19f214371ba" class="code"><code class="language-SQL" style="white-space:pre-wrap;word-break:break-all">sql

CREATE TABLE user_tbl (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  username VARCHAR(50),
  password VARCHAR(100),
  ...
);

</code></pre><h3 id="2078d968-54a6-80dc-bcac-ee24ebf5796b" class="">âœ… è§’è‰²è¡¨ï¼ˆrole_tblï¼‰</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-809a-82c4-e76cc0c6a914" class="code"><code class="language-SQL" style="white-space:pre-wrap;word-break:break-all">sql

CREATE TABLE role_tbl (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  name VARCHAR(50)
);

</code></pre><h3 id="2078d968-54a6-801d-b550-fc5a0a43b6f7" class="">âœ… æƒé™è¡¨ï¼ˆpermission_tblï¼‰</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-80f3-aec8-d6416ece3d25" class="code"><code class="language-SQL" style="white-space:pre-wrap;word-break:break-all">sql

CREATE TABLE permission_tbl (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  name VARCHAR(100),
  path VARCHAR(255)
);

</code></pre><h3 id="2078d968-54a6-8010-b6af-e80041a47bd7" class="">âœ… ä¸­é—´è¡¨ï¼šç”¨æˆ·-è§’è‰²å…³ç³»è¡¨ï¼ˆuser_role_tblï¼‰</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-8079-a4c7-e14b150c1515" class="code"><code class="language-SQL" style="white-space:pre-wrap;word-break:break-all">sql

CREATE TABLE user_role_tbl (
  user_id BIGINT,
  role_id BIGINT
);

</code></pre><h3 id="2078d968-54a6-8009-b688-fcad60637200" class="">âœ… ä¸­é—´è¡¨ï¼šè§’è‰²-æƒé™å…³ç³»è¡¨ï¼ˆrole_permission_tblï¼‰</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-8075-abeb-dc0644a0d473" class="code"><code class="language-SQL" style="white-space:pre-wrap;word-break:break-all">sql

CREATE TABLE role_permission_tbl (
  role_id BIGINT,
  permission_id BIGINT
);

</code></pre><hr id="2078d968-54a6-8087-907c-e93916e6ce4c"/><h2 id="2078d968-54a6-80f9-a46d-eae25e4f2962" class="">3. å®ç°ç™»å½•é‰´æƒé€»è¾‘ï¼ˆåŸºäº JWTï¼‰</h2><h3 id="2078d968-54a6-804b-b969-cccc032f87cb" class="">âœ… ç™»å½•æ—¶ç”Ÿæˆ JWT Tokenï¼Œå†…å«ç”¨æˆ·ä¿¡æ¯ï¼š</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-804b-90c5-d4e98631dd6e" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

String token = jwtUtil.generateToken(userId, username, roles);

</code></pre><hr id="2078d968-54a6-80eb-acec-df8129d87957"/><h3 id="2078d968-54a6-8061-96f8-f259da49d2d9" class="">âœ… æ‹¦æˆªå™¨é…ç½®ï¼ˆç®€åŒ–ç‰ˆç¤ºä¾‹ï¼‰ï¼š</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-80fd-b09c-cc9701bf6a72" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

@Component
public class AuthInterceptor implements HandlerInterceptor {

    @Autowired
    private JwtUtil jwtUtil;

    @Override
    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) {
        String token = request.getHeader(&quot;Authorization&quot;);

        if (token == null || !jwtUtil.validateToken(token)) {
            response.setStatus(HttpStatus.UNAUTHORIZED.value());
            return false;
        }

        // è§£ætokenå¹¶å­˜å‚¨ç”¨æˆ·ä¸Šä¸‹æ–‡ä¿¡æ¯
        UserContext.set(jwtUtil.parseUser(token));
        return true;
    }
}

</code></pre><p id="2078d968-54a6-8023-8eb8-d0b864e5cede" class="">âœ… é…ç½®ç±»ï¼š</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-8016-8ae4-ff7b187bcecc" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

@Configuration
public class WebMvcConfig implements WebMvcConfigurer {
    @Autowired
    private AuthInterceptor authInterceptor;

    @Override
    public void addInterceptors(InterceptorRegistry registry) {
        registry.addInterceptor(authInterceptor)
                .addPathPatterns(&quot;/**&quot;)
                .excludePathPatterns(&quot;/login&quot;, &quot;/swagger-ui.html&quot;, &quot;/docs/**&quot;);
    }
}

</code></pre><hr id="2078d968-54a6-8006-9fb8-c7964308fca2"/><h2 id="2078d968-54a6-8063-b6c3-e69bef408200" class="">4. æ ¸å¿ƒæƒé™éªŒè¯æ–¹æ³•ï¼ˆåœ¨Serviceå±‚ï¼‰</h2><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-8097-8904-e80a93ae4a29" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

public void checkPermission(String requiredPermission) {
    List&lt;String&gt; userPermissions = getPermissionsFromToken();

    if (!userPermissions.contains(requiredPermission)) {
        throw new BizException(&quot;æ²¡æœ‰è®¿é—®æƒé™&quot;);
    }
}

</code></pre><p id="2078d968-54a6-803e-8ce1-f192c0cbf067" class="">å¯ç”¨äºæ¥å£å†…éƒ¨æ§åˆ¶ç²’åº¦ï¼š</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-80af-97a9-c4b01b794ad9" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

checkPermission(&quot;/user/delete&quot;);

</code></pre><hr id="2078d968-54a6-8029-b2d3-c810c4e0f11b"/><h2 id="2078d968-54a6-80cc-9d71-ee8278f22aaa" class="">5. é¡µé¢æƒé™æ§åˆ¶é€»è¾‘ï¼ˆå‰ç«¯ï¼‰</h2><ul id="2078d968-54a6-80cf-a052-ef61975ac394" class="bulleted-list"><li style="list-style-type:disc">é€šè¿‡åç«¯ <code>/user/info</code> æ¥å£è¿”å›å½“å‰ç™»å½•ç”¨æˆ·æƒé™åˆ—è¡¨</li></ul><ul id="2078d968-54a6-806d-b7f4-c303c160bd17" class="bulleted-list"><li style="list-style-type:disc">é¡µé¢æŒ‰é’®/èœå•æ ¹æ®æƒé™å†³å®šæ˜¯å¦æ˜¾ç¤ºï¼š</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-807e-a1f8-df5dcdd8dc44" class="code"><code class="language-Plain Text" style="white-space:pre-wrap;word-break:break-all">
// Vueç¤ºä¾‹
if (permissions.includes(&#x27;user:add&#x27;)) {
  // æ˜¾ç¤ºâ€œæ·»åŠ ç”¨æˆ·â€æŒ‰é’®
}

</code></pre><hr id="2078d968-54a6-8023-a827-d6d59fea2b1d"/><h2 id="2078d968-54a6-801b-b924-e556fd83ead5" class="">6. æ•°æ®æƒé™æ§åˆ¶ï¼ˆData Scopeï¼‰</h2><table id="2078d968-54a6-80b2-859c-e8c722b6e413" class="simple-table"><tbody><tr id="2078d968-54a6-804f-80e5-e88610db32bc"><td id="c|]u" class="">ç±»å‹</td><td id="JfqG" class="">ç¤ºä¾‹</td><td id="KWxq" class="">æ§åˆ¶æ–¹å¼</td></tr><tr id="2078d968-54a6-80fb-9f0a-f24a2fa1a430"><td id="c|]u" class="">æœ¬äººæ•°æ®æƒé™</td><td id="JfqG" class="">åªèƒ½çœ‹è‡ªå·±å‘çš„æ–‡ç« </td><td id="KWxq" class="">SQL: <code>WHERE user_id = ?</code></td></tr><tr id="2078d968-54a6-8043-956e-c1003889b2d2"><td id="c|]u" class="">éƒ¨é—¨æ•°æ®æƒé™</td><td id="JfqG" class="">åªèƒ½çœ‹è‡ªå·±éƒ¨é—¨çš„å‘˜å·¥æ•°æ®</td><td id="KWxq" class="">SQLæ‹¼æ¥ dept_id æ¡ä»¶</td></tr><tr id="2078d968-54a6-8061-bf2e-ffce0dad631f"><td id="c|]u" class="">å…¨å±€æ•°æ®æƒé™</td><td id="JfqG" class="">ç®¡ç†å‘˜å¯æŸ¥çœ‹æ‰€æœ‰</td><td id="KWxq" class="">æ— éœ€é™åˆ¶</td></tr></tbody></table><p id="2078d968-54a6-80c7-8ed4-fcb533f52aaf" class="">ğŸŒŸ å¯åœ¨ç™»å½•åç¼“å­˜å½“å‰ç”¨æˆ·çš„æ•°æ®æƒé™çº§åˆ«ï¼Œç”¨äºæ‹¼æ¥SQLã€‚</p><hr id="2078d968-54a6-809b-a857-e19c82145da3"/><h2 id="2078d968-54a6-80d2-9400-d6d83a5d90df" class="">ğŸ§  é¢è¯•å¼ºåŒ–é—®é¢˜</h2><hr id="2078d968-54a6-804c-a1ca-cd640797e9f3"/><h3 id="2078d968-54a6-8020-8578-dbc3bfe70349" class="">â“ Q1ï¼šä½ ä»¬é¡¹ç›®çš„æƒé™æ¨¡å‹æ˜¯å¦‚ä½•è®¾è®¡çš„ï¼Ÿ</h3><p id="2078d968-54a6-80d7-9f16-da8339bbc362" class="">âœ… å›ç­”è¦ç‚¹ï¼š</p><blockquote id="2078d968-54a6-8001-a6e0-f7f8c9668eaf" class="">é‡‡ç”¨ RBAC æƒé™æ¨¡å‹ï¼Œç”¨æˆ·æ‹¥æœ‰å¤šä¸ªè§’è‰²ï¼Œæ¯ä¸ªè§’è‰²æ‹¥æœ‰å¤šä¸ªæƒé™ã€‚æƒé™æ§åˆ¶åˆ†ä¸ºèœå•æƒé™ï¼ˆæ§åˆ¶å‰ç«¯é¡µé¢æŒ‰é’®å±•ç¤ºï¼‰å’Œæ¥å£æƒé™ï¼ˆæ§åˆ¶åç«¯æ¥å£è®¿é—®ï¼‰ï¼ŒåŒæ—¶æ”¯æŒæ•°æ®èŒƒå›´æƒé™ã€‚</blockquote><hr id="2078d968-54a6-8052-860d-ca8f0246032a"/><h3 id="2078d968-54a6-8017-a60f-d627b2ff968b" class="">â“ Q2ï¼šå¦‚ä½•åšæ¥å£æƒé™ä¸é¡µé¢æƒé™çš„ç»Ÿä¸€ï¼Ÿ</h3><p id="2078d968-54a6-806e-87e5-dc1c58dbb8d1" class="">âœ… å›ç­”è¦ç‚¹ï¼š</p><blockquote id="2078d968-54a6-80a3-b6f7-dc1c87085a00" class="">åç«¯æä¾› /user/info æ¥å£è¿”å›å½“å‰ç”¨æˆ·çš„æƒé™åˆ—è¡¨ï¼Œå‰ç«¯æ ¹æ®è¯¥åˆ—è¡¨æ§åˆ¶æŒ‰é’®/èœå•å±•ç¤ºï¼›åç«¯é€šè¿‡æ‹¦æˆªå™¨ + æƒé™éªŒè¯æ–¹æ³•ï¼Œç¡®ä¿æ¥å£å±‚ä¸è¢«è¶Šæƒè®¿é—®ã€‚</blockquote><hr id="2078d968-54a6-8090-8298-f790199141cf"/><h3 id="2078d968-54a6-8071-8d27-e266bb5b1ebb" class="">â“ Q3ï¼šæ•°æ®æƒé™åœ¨ SQL ä¸­æ˜¯å¦‚ä½•æ§åˆ¶çš„ï¼Ÿ</h3><p id="2078d968-54a6-80d6-b982-d22c408e83b3" class="">âœ… å›ç­”è¦ç‚¹ï¼š</p><blockquote id="2078d968-54a6-80e9-809e-dca80fd98407" class="">åœ¨ä¸šåŠ¡å±‚æ‹¼æ¥æŸ¥è¯¢æ¡ä»¶ï¼Œä¾‹å¦‚å½“å‰ç”¨æˆ·ä¸ºæ™®é€šå‘˜å·¥æ—¶ï¼Œä»…å…è®¸æŸ¥è¯¢ user_id = å½“å‰ç”¨æˆ·ID çš„è®°å½•ã€‚æ•°æ®æƒé™çº§åˆ«å¯ç¼“å­˜è‡³ä¸Šä¸‹æ–‡ä¸­ç»Ÿä¸€ä½¿ç”¨ã€‚</blockquote><hr id="2078d968-54a6-80a9-9c7d-c78b7f275a8b"/><h2 id="2078d968-54a6-809e-ba4d-f146de848dd4" class="">ğŸ“š å°ç»“å›é¡¾</h2><table id="2078d968-54a6-80ec-b526-e05bb57851c6" class="simple-table"><tbody><tr id="2078d968-54a6-80fd-aa1f-d249088f2e57"><td id="_pXK" class="">æƒé™æ¨¡å—</td><td id="wHTQ" class="">å®ç°æ–¹å¼æˆ–å»ºè®®</td></tr><tr id="2078d968-54a6-8073-9eaf-c188961b8edc"><td id="_pXK" class="">æƒé™æ¨¡å‹</td><td id="wHTQ" class="">RBACï¼ˆè§’è‰²-æƒé™-ç”¨æˆ·ï¼‰æ¨¡å‹</td></tr><tr id="2078d968-54a6-8020-9291-cc88f8f4a469"><td id="_pXK" class="">é‰´æƒæœºåˆ¶</td><td id="wHTQ" class="">JWT + æ‹¦æˆªå™¨ + ç”¨æˆ·ä¸Šä¸‹æ–‡</td></tr><tr id="2078d968-54a6-802e-a977-e8bea516ab9a"><td id="_pXK" class="">é¡µé¢æƒé™</td><td id="wHTQ" class="">ç™»å½•åè¿”å›æƒé™åˆ—è¡¨ï¼Œå‰ç«¯æ§åˆ¶æ˜¾ç¤º</td></tr><tr id="2078d968-54a6-8038-a6fc-ef0ad330eb00"><td id="_pXK" class="">æ¥å£æƒé™</td><td id="wHTQ" class=""><code>checkPermission()</code> + æ‹¦æˆªå™¨æ ¡éªŒ</td></tr><tr id="2078d968-54a6-80af-be2d-eefed8054326"><td id="_pXK" class="">æ•°æ®æƒé™</td><td id="wHTQ" class="">SQLæ‹¼æ¥æ¡ä»¶æˆ–åŠ¨æ€æ•°æ®èŒƒå›´æ§åˆ¶</td></tr><tr id="2078d968-54a6-801f-96ff-d8d711f82463"><td id="_pXK" class="">è¡¨ç»“æ„</td><td id="wHTQ" class="">user_tblã€role_tblã€permission_tbl ç­‰å¤šè¡¨å¤šå¯¹å¤šç»“æ„</td></tr></tbody></table><p id="2078d968-54a6-80cb-811e-c15fa352f37f" class="">
</p><p id="2078d968-54a6-80e4-b1f4-db4a1efc5ea6" class="">
</p><p id="2078d968-54a6-802e-bfd7-caed6081ffc6" class="">
</p><p id="2078d968-54a6-80fc-9056-cd6637be9cb4" class="">
</p><p id="2078d968-54a6-8099-b83b-df5b8eb5eb2b" class="">
</p><h1 id="s23" class="">ç¬¬23ç« ï¼šæ—¥å¿—ã€ç›‘æ§ä¸éƒ¨ç½²ï¼ˆLogback + Actuator + çœŸå®éƒ¨ç½²æ–¹æ¡ˆï¼‰</h1><blockquote id="2078d968-54a6-809b-8ac2-d36e4f2fcdfe" class="">âœ… æœ¬ç« ç›®æ ‡ï¼š<ul id="2078d968-54a6-8093-a1e0-e47332276d9e" class="bulleted-list"><li style="list-style-type:disc">æŒæ¡ Spring Boot çš„æ—¥å¿—æ¡†æ¶ï¼ˆLogbackï¼‰é…ç½®ä¸ä½¿ç”¨</li></ul><ul id="2078d968-54a6-8012-9554-c05d14e49365" class="bulleted-list"><li style="list-style-type:disc">åˆ©ç”¨ Spring Boot Actuator å®ç°åº”ç”¨å¥åº·ç›‘æ§</li></ul><ul id="2078d968-54a6-807d-8988-e041a05a9a4c" class="bulleted-list"><li style="list-style-type:disc">å­¦ä¹  jar éƒ¨ç½²ã€Nginx åå‘ä»£ç†ä¸ç³»ç»ŸæœåŠ¡æ³¨å†Œ</li></ul><ul id="2078d968-54a6-80f8-932e-c3e0cf6e5d04" class="bulleted-list"><li style="list-style-type:disc">ğŸ§  æ‹“å±•ï¼šé¢è¯•ä¸­å…³äºéƒ¨ç½²ä¸æ—¥å¿—çš„é«˜é¢‘é—®é¢˜ç­”æ³•</li></ul></blockquote><hr id="2078d968-54a6-802a-8061-e39b2509b54e"/><h2 id="2078d968-54a6-8020-a436-cdc4553fc20c" class="">1. æ—¥å¿—ç³»ç»Ÿï¼ˆLogbackï¼‰é…ç½®ä¸å®è·µ</h2><p id="2078d968-54a6-800e-a694-fb29e655ce08" class="">Spring Boot é»˜è®¤ä½¿ç”¨ <strong>Logback</strong> ä½œä¸ºæ—¥å¿—æ¡†æ¶ï¼Œæ”¯æŒæ§åˆ¶å°è¾“å‡ºä¸æ–‡ä»¶ä¿å­˜ã€‚</p><h3 id="2078d968-54a6-80db-b847-d2a22195c2fc" class="">âœ… application.yml ä¸­åŸºæœ¬é…ç½®ï¼š</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-80e6-88ff-cab720ee1d54" class="code"><code class="language-YAML" style="white-space:pre-wrap;word-break:break-all">

logging:
  level:
    root: INFO
    com.example.demo: DEBUG
  file:
    name: logs/app.log
  pattern:
    console: &quot;%d{yyyy-MM-dd HH:mm:ss} - %msg%n&quot;

</code></pre><hr id="2078d968-54a6-800e-aa31-fd14cf4b673f"/><h3 id="2078d968-54a6-80aa-8223-e26460566288" class="">âœ… è‡ªå®šä¹‰ logback-spring.xmlï¼ˆç»“æ„æ›´å¼ºï¼‰</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-8070-976a-daee7415b5df" class="code"><code class="language-XML" style="white-space:pre-wrap;word-break:break-all">xml

&lt;configuration&gt;

  &lt;!-- æ§åˆ¶å°è¾“å‡º --&gt;
  &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;
    &lt;encoder&gt;
      &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;
    &lt;/encoder&gt;
  &lt;/appender&gt;

  &lt;!-- æ–‡ä»¶è¾“å‡º --&gt;
  &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;
    &lt;file&gt;logs/app.log&lt;/file&gt;
    &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;
      &lt;fileNamePattern&gt;logs/app.%d{yyyy-MM-dd}.log&lt;/fileNamePattern&gt;
    &lt;/rollingPolicy&gt;
    &lt;encoder&gt;
      &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;
    &lt;/encoder&gt;
  &lt;/appender&gt;

  &lt;root level=&quot;INFO&quot;&gt;
    &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;
    &lt;appender-ref ref=&quot;FILE&quot;/&gt;
  &lt;/root&gt;

&lt;/configuration&gt;

</code></pre><hr id="2078d968-54a6-8039-b18f-cfc944dc1c51"/><h3 id="2078d968-54a6-80b9-8a26-fab37595e4cb" class="">âœ… æ—¥å¿—ä»£ç å†™æ³•ï¼š</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-8089-8ae3-c6f5ac58077a" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

@Slf4j // Lombok æ³¨è§£ï¼Œè‡ªåŠ¨æ³¨å…¥ log å¯¹è±¡
@RestController
public class DemoController {
    @GetMapping(&quot;/log&quot;)
    public String logTest() {
        log.info(&quot;è®¿é—®äº† /log æ¥å£&quot;);
        return &quot;OK&quot;;
    }
}

</code></pre><hr id="2078d968-54a6-80ac-9bce-f9771c3210c7"/><h2 id="2078d968-54a6-8071-90d2-e2f5a527f463" class="">2. åº”ç”¨çŠ¶æ€ç›‘æ§ï¼šSpring Boot Actuator</h2><p id="2078d968-54a6-8051-82c0-e651144f5e7d" class="">Spring Boot æä¾› Actuator æ¨¡å—ç”¨äºå¥åº·æ£€æŸ¥ã€ç³»ç»Ÿä¿¡æ¯æš´éœ²ç­‰ã€‚</p><h3 id="2078d968-54a6-8058-b275-d349c1fffc73" class="">âœ… æ·»åŠ ä¾èµ–ï¼š</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-8097-bb85-e869ea2fff9e" class="code"><code class="language-XML" style="white-space:pre-wrap;word-break:break-all">xml

&lt;dependency&gt;
  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
  &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;
&lt;/dependency&gt;

</code></pre><hr id="2078d968-54a6-805e-b6d1-e099301d876e"/><h3 id="2078d968-54a6-80f2-931c-c14497969d2b" class="">âœ… é…ç½® application.ymlï¼š</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-803f-a9c5-ff8934d00819" class="code"><code class="language-YAML" style="white-space:pre-wrap;word-break:break-all">

management:
  endpoints:
    web:
      exposure:
        include: &quot;*&quot;
  endpoint:
    health:
      show-details: always

</code></pre><hr id="2078d968-54a6-80d1-aa5e-c08e25e9479e"/><h3 id="2078d968-54a6-80aa-b894-f09405b3a64e" class="">âœ… å¸¸ç”¨æ¥å£è¯´æ˜ï¼š</h3><table id="2078d968-54a6-801c-b63e-dbab90f5d278" class="simple-table"><tbody><tr id="2078d968-54a6-80d6-83c2-feae419eb47d"><td id="x?oV" class="">URL åœ°å€</td><td id="CV~j" class="">åŠŸèƒ½</td></tr><tr id="2078d968-54a6-807d-ae71-f5085c00d597"><td id="x?oV" class=""><code>/actuator/health</code></td><td id="CV~j" class="">æŸ¥çœ‹æœåŠ¡æ˜¯å¦å¥åº·</td></tr><tr id="2078d968-54a6-8025-aa91-cf168eb1009b"><td id="x?oV" class=""><code>/actuator/info</code></td><td id="CV~j" class="">è‡ªå®šä¹‰é¡¹ç›®ä¿¡æ¯</td></tr><tr id="2078d968-54a6-802f-b3b9-e25c0382ccb9"><td id="x?oV" class=""><code>/actuator/metrics</code></td><td id="CV~j" class="">JVM å†…å­˜ã€CPUã€GCç­‰ä¿¡æ¯</td></tr><tr id="2078d968-54a6-80ba-abf3-f113179b016d"><td id="x?oV" class=""><code>/actuator/loggers</code></td><td id="CV~j" class="">æŸ¥çœ‹å½“å‰æ—¥å¿—çº§åˆ«</td></tr></tbody></table><hr id="2078d968-54a6-804e-b0f3-d5a7b3c9dc1e"/><h2 id="2078d968-54a6-809c-88a9-edf5010959f0" class="">3. é¡¹ç›®æ‰“åŒ…ä¸éƒ¨ç½²</h2><hr id="2078d968-54a6-8001-ae64-c19b94cebdd5"/><h3 id="2078d968-54a6-8036-b82a-c6f7a4ff332a" class="">âœ… æ‰“åŒ…ä¸º jar åŒ…ï¼š</h3><p id="2078d968-54a6-809c-b2dd-d790cfad96e3" class="">åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œï¼š</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-80c9-bfff-fbb411e90fac" class="code"><code class="language-Shell" style="white-space:pre-wrap;word-break:break-all">bash

./mvnw clean package

</code></pre><p id="2078d968-54a6-80de-ab3c-e18936f91c81" class="">ç”Ÿæˆï¼š<code>target/demo-0.0.1-SNAPSHOT.jar</code></p><hr id="2078d968-54a6-80f8-aa8e-e59788fd261e"/><h3 id="2078d968-54a6-8036-b3fc-ef200a017038" class="">âœ… Linux ç¯å¢ƒéƒ¨ç½² jar åŒ…ï¼š</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-8015-af94-fe73e4d9cb3d" class="code"><code class="language-Shell" style="white-space:pre-wrap;word-break:break-all">bash

# å¯åŠ¨é¡¹ç›®
nohup java -jar demo-0.0.1-SNAPSHOT.jar &gt; logs/output.log 2&gt;&amp;1 &amp;

</code></pre><hr id="2078d968-54a6-80fe-a417-f8a42d9b9136"/><h3 id="2078d968-54a6-801a-8346-f25e26ba48d4" class="">âœ… è®¾ç½®ä¸ºç³»ç»ŸæœåŠ¡ï¼ˆUbuntu ç¤ºä¾‹ï¼‰ï¼š</h3><p id="2078d968-54a6-80c9-a8ad-c8111cb97b2b" class="">åˆ›å»ºæœåŠ¡æ–‡ä»¶ <code>/etc/systemd/system/myapp.service</code>ï¼š</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-80fd-8aba-e9c9b6155490" class="code"><code class="language-Plain Text" style="white-space:pre-wrap;word-break:break-all">ini

[Unit]
Description=My Spring Boot App
After=network.target

[Service]
User=ubuntu
ExecStart=/usr/bin/java -jar /home/ubuntu/demo.jar
SuccessExitStatus=143
Restart=always

[Install]
WantedBy=multi-user.target

</code></pre><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-804b-ab2a-e1df55ef98e5" class="code"><code class="language-Shell" style="white-space:pre-wrap;word-break:break-all">bash

# å¯ç”¨æœåŠ¡
sudo systemctl daemon-reexec
sudo systemctl start myapp
sudo systemctl enable myapp

</code></pre><hr id="2078d968-54a6-806d-ad40-eb480fec2923"/><h2 id="2078d968-54a6-80e8-99a5-f6ffeb409f33" class="">4. Nginx åå‘ä»£ç†é…ç½®ï¼ˆå‰åç«¯åˆ†ç¦»æ¨èï¼‰</h2><h3 id="2078d968-54a6-805b-8dbe-ce7f21ecf63a" class="">âœ… ç¤ºä¾‹ nginx é…ç½®ï¼š</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-80f7-97bc-c1d5376cce11" class="code"><code class="language-Plain Text" style="white-space:pre-wrap;word-break:break-all">nginx

server {
  listen 80;
  server_name mydomain.com;

  location /api/ {
    proxy_pass http://localhost:8080/;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
  }

  location / {
    root /usr/share/nginx/html/;
    index index.html;
  }
}

</code></pre><hr id="2078d968-54a6-807c-868b-cd2e10f3e8bd"/><h2 id="2078d968-54a6-80dd-adc4-f5897694730e" class="">ğŸ§  é¢è¯•å¼ºåŒ–é—®é¢˜</h2><hr id="2078d968-54a6-80b0-8281-c79a96dc58c2"/><h3 id="2078d968-54a6-80a2-ba13-d07c01d04717" class="">â“ Q1ï¼šä½ ä»¬é¡¹ç›®æ˜¯å¦‚ä½•åšæ—¥å¿—ç®¡ç†çš„ï¼Ÿ</h3><p id="2078d968-54a6-8018-9382-c5e424e6b643" class="">âœ… å›ç­”è¦ç‚¹ï¼š</p><blockquote id="2078d968-54a6-80ba-86b2-faf402bc38ba" class="">ä½¿ç”¨ Spring Boot è‡ªå¸¦çš„ Logbackï¼Œæ§åˆ¶å°ä¸æ–‡ä»¶åŒè¾“å‡ºï¼Œlogback-spring.xml æ”¯æŒæŒ‰å¤©æ»šåŠ¨ï¼Œæ—¥å¿—ç­‰çº§æŒ‰æ¨¡å—é…ç½®ï¼Œç¡®ä¿å¯æ§ä¸æ’é”™ä¾¿åˆ©ã€‚</blockquote><hr id="2078d968-54a6-8045-819d-c057b12ef945"/><h3 id="2078d968-54a6-806a-b6e6-f364eaea51c8" class="">â“ Q2ï¼šä¸Šçº¿åçš„é¡¹ç›®å¦‚ä½•ç›‘æ§çŠ¶æ€ï¼Ÿ</h3><p id="2078d968-54a6-8056-add6-d06aff4e9bfb" class="">âœ… å›ç­”è¦ç‚¹ï¼š</p><blockquote id="2078d968-54a6-80ac-b2e1-c6b94c7059ee" class="">å¯ç”¨ Actuator æ¨¡å—ï¼Œæä¾›å¥åº·æ£€æŸ¥ã€JVM ä¿¡æ¯ã€å†…å­˜ä½¿ç”¨ã€çº¿ç¨‹ç­‰ç›‘æ§æ•°æ®ã€‚ç»“åˆå¤–éƒ¨ç³»ç»Ÿå¦‚ Prometheus + Grafana å¯å®ç°å›¾å½¢åŒ–å±•ç¤ºã€‚</blockquote><hr id="2078d968-54a6-80e8-8542-c410b9d24356"/><h3 id="2078d968-54a6-805b-955e-ca7e6007a655" class="">â“ Q3ï¼šSpring Boot é¡¹ç›®å¦‚ä½•éƒ¨ç½²ä¸Šçº¿ï¼Ÿ</h3><p id="2078d968-54a6-8089-a818-e8ef29802cfa" class="">âœ… å›ç­”è¦ç‚¹ï¼š</p><blockquote id="2078d968-54a6-8026-8f1b-c551c765a453" class="">æ‰“åŒ…ä¸º jar åŒ…ï¼Œé€šè¿‡ java -jar å¯åŠ¨ã€‚ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ systemd æ³¨å†Œä¸ºç³»ç»ŸæœåŠ¡ + Nginx åšåå‘ä»£ç†ï¼Œä¿è¯è‡ªåŠ¨å¯åŠ¨ä¸å¤–éƒ¨è®¿é—®ã€‚</blockquote><hr id="2078d968-54a6-80c1-a883-d3daddc21079"/><h2 id="2078d968-54a6-80f5-ab71-e8ad695754ac" class="">ğŸ“š å°ç»“å›é¡¾</h2><table id="2078d968-54a6-8016-9cb3-eef005a9f048" class="simple-table"><tbody><tr id="2078d968-54a6-808e-ac61-ffe643d4adb3"><td id="wsEb" class="">æ¨¡å—</td><td id="JME:" class="">å†…å®¹è¦ç‚¹</td></tr><tr id="2078d968-54a6-8033-9db6-cd0173436f32"><td id="wsEb" class="">æ—¥å¿—</td><td id="JME:" class="">Logback + åˆ†æ¨¡å—ç­‰çº§æ§åˆ¶ + æ–‡ä»¶ä¿å­˜</td></tr><tr id="2078d968-54a6-8028-8fef-c01867634837"><td id="wsEb" class="">ç›‘æ§</td><td id="JME:" class="">Actuator æä¾›å¥åº·æ£€æŸ¥/æ€§èƒ½æŒ‡æ ‡/ç³»ç»Ÿä¿¡æ¯</td></tr><tr id="2078d968-54a6-8079-840c-f712bf79ebbc"><td id="wsEb" class="">æ‰“åŒ…éƒ¨ç½²</td><td id="JME:" class="">Maven æ‰“åŒ…ä¸º jarï¼ŒLinux è¿è¡Œæˆ–æ³¨å†ŒæœåŠ¡</td></tr><tr id="2078d968-54a6-8045-8430-fe37ba1cd306"><td id="wsEb" class="">åå‘ä»£ç†</td><td id="JME:" class="">Nginx é…ç½®å‰åç«¯åˆ†ç¦»éƒ¨ç½²æˆ–HTTPSè½¬å‘</td></tr></tbody></table><p id="2078d968-54a6-8058-9c5e-f7fa70e32ecb" class="">
</p><p id="2078d968-54a6-80b8-885b-c0d4655b9782" class="">
</p><p id="2078d968-54a6-80bc-bb85-c5f4fe2fa8b5" class="">
</p><p id="2078d968-54a6-8041-8259-f08561398c61" class="">
</p><p id="2078d968-54a6-804b-8f8d-f581ac5bfdad" class="">
</p><h1 id="s24" class="">ç¬¬24ç« ï¼šä¼ä¸šçº§é¡¹ç›®ç»¼åˆå®æˆ˜ï¼ˆæƒé™ + åˆ†é¡µ + å¯¼å‡º + å‰åç«¯æ¥å£æ•´åˆï¼‰</h1><blockquote id="2078d968-54a6-80f3-855c-ded7bcd80c1a" class="">âœ… æœ¬ç« ç›®æ ‡ï¼š<ul id="2078d968-54a6-8060-9a10-fa086788007f" class="bulleted-list"><li style="list-style-type:disc">å°†å…¨éƒ¨æ ¸å¿ƒçŸ¥è¯†æ•´åˆå…¥ä¸€ä¸ªå®Œæ•´é¡¹ç›®</li></ul><ul id="2078d968-54a6-8075-a1df-ca1c39c03784" class="bulleted-list"><li style="list-style-type:disc">æ„å»ºå‰åç«¯å¯åä½œçš„æ¥å£å¹³å°</li></ul><ul id="2078d968-54a6-8015-b568-d317ce86a09e" class="bulleted-list"><li style="list-style-type:disc">å®ç°åˆ†é¡µã€å¯¼å‡ºã€æƒé™æ§åˆ¶ã€ç»Ÿä¸€å¼‚å¸¸ç­‰å¸¸è§åŠŸèƒ½</li></ul><ul id="2078d968-54a6-8096-951c-eb13f1211f8a" class="bulleted-list"><li style="list-style-type:disc">å½¢æˆå±äºè‡ªå·±çš„ Spring Boot é¡¹ç›®æ¨¡æ¿</li></ul><ul id="2078d968-54a6-80cf-a1b8-ddeea0d45974" class="bulleted-list"><li style="list-style-type:disc">ğŸ§  é™„ï¼šå®æˆ˜é¡¹ç›®å¸¸è§é¢è¯•é—®é¢˜ä¸è®²è§£å¥—è·¯</li></ul></blockquote><hr id="2078d968-54a6-80ef-9243-e950801e40b5"/><h2 id="2078d968-54a6-809f-8bc4-e8378dc72f5a" class="">1. é¡¹ç›®èƒŒæ™¯è®¾å®šï¼šç”¨æˆ·ç®¡ç†ç³»ç»Ÿ</h2><blockquote id="2078d968-54a6-8009-bf74-dcdcf3dcfed7" class="">ç³»ç»Ÿç›®æ ‡ï¼š<p id="2078d968-54a6-80f2-ac7b-c75d2dba75e7" class="">å®ç°å¯¹ç”¨æˆ·è¿›è¡Œå¢åˆ æ”¹æŸ¥ã€åˆ†é¡µã€æœç´¢ã€å¯¼å‡º Excelã€è§’è‰²åˆ†é…ã€æƒé™æ§åˆ¶ã€‚</p></blockquote><table id="2078d968-54a6-8046-939f-df95847b8525" class="simple-table"><tbody><tr id="2078d968-54a6-80ae-8df4-e5ab8bd25bb1"><td id="zCPf" class="">åŠŸèƒ½æ¨¡å—</td><td id="H|Px" class="">å­åŠŸèƒ½</td></tr><tr id="2078d968-54a6-806f-9c57-d48ceb3b4da8"><td id="zCPf" class="">ç™»å½•æ¨¡å—</td><td id="H|Px" class="">è´¦å·å¯†ç ç™»å½•ï¼ŒJWT å‘æ”¾</td></tr><tr id="2078d968-54a6-80e6-b7d2-e60c1d3e141e"><td id="zCPf" class="">ç”¨æˆ·ç®¡ç†</td><td id="H|Px" class="">ç”¨æˆ·åˆ—è¡¨ã€æ·»åŠ ã€ä¿®æ”¹ã€åˆ é™¤</td></tr><tr id="2078d968-54a6-8029-a25d-c7ab24d9e8eb"><td id="zCPf" class="">è§’è‰²ç®¡ç†</td><td id="H|Px" class="">åˆ›å»ºè§’è‰²ï¼Œåˆ†é…æƒé™</td></tr><tr id="2078d968-54a6-80f1-82ec-ee6a646451b6"><td id="zCPf" class="">æƒé™ç®¡ç†</td><td id="H|Px" class="">æŒ‰æ¥å£é…ç½®æƒé™ï¼Œæ§åˆ¶è®¿é—®</td></tr><tr id="2078d968-54a6-8048-8694-da1099412c27"><td id="zCPf" class="">æ“ä½œæ—¥å¿—</td><td id="H|Px" class="">è®°å½•å…³é”®æ“ä½œã€æŸ¥çœ‹æ—¥å¿—åˆ—è¡¨</td></tr><tr id="2078d968-54a6-80d9-8f35-efb20d213032"><td id="zCPf" class="">ç³»ç»Ÿè®¾ç½®</td><td id="H|Px" class="">ä¿®æ”¹åŸºç¡€é…ç½®ï¼Œå¦‚åˆ†é¡µæ•°é‡ç­‰</td></tr></tbody></table><hr id="2078d968-54a6-8070-8e40-daa4a1519209"/><h2 id="2078d968-54a6-80ab-8498-cf8061042afb" class="">2. é¡¹ç›®ç»“æ„ï¼ˆæ¨èç»“æ„ï¼‰</h2><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-8002-9961-dcf95983f17d" class="code"><code class="language-Plain Text" style="white-space:pre-wrap;word-break:break-all">bash

src/
â”œâ”€â”€ config/             # å…¨å±€é…ç½®ç±»ï¼ˆCORSã€å®‰å…¨ã€æ‹¦æˆªå™¨ç­‰ï¼‰
â”œâ”€â”€ controller/         # æ§åˆ¶å™¨ï¼Œå¤„ç† API è¯·æ±‚
â”œâ”€â”€ dto/                # è¯·æ±‚/å“åº”å¯¹è±¡
â”œâ”€â”€ entity/             # å®ä½“ç±»
â”œâ”€â”€ exception/          # å¼‚å¸¸å®šä¹‰ä¸å¤„ç†
â”œâ”€â”€ mapper/             # MyBatis æ¥å£
â”œâ”€â”€ service/            # ä¸šåŠ¡é€»è¾‘å±‚
â”œâ”€â”€ util/               # å·¥å…·ç±»
â”œâ”€â”€ vo/                 # å±•ç¤ºç”¨å¯¹è±¡ï¼ˆValue Objectï¼‰
â””â”€â”€ Application.java    # å¯åŠ¨ç±»

</code></pre><hr id="2078d968-54a6-8019-9780-c6d29941a772"/><h2 id="2078d968-54a6-80f7-ac66-c867d823f64b" class="">3. å¸¸è§æ¥å£å®ç°ç¤ºä¾‹</h2><h3 id="2078d968-54a6-80a8-8026-e672b789ee0e" class="">âœ… ç™»å½•æ¥å£</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-80f8-bd59-c6968ea5d743" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

@PostMapping(&quot;/login&quot;)
public Result&lt;String&gt; login(@RequestBody LoginDTO loginDTO) {
    User user = userService.checkPassword(loginDTO);
    String token = jwtUtil.generateToken(user);
    return Result.success(token);
}

</code></pre><hr id="2078d968-54a6-80aa-8742-fe02896c49d0"/><h3 id="2078d968-54a6-8061-a377-ef8dc00ae988" class="">âœ… åˆ†é¡µæŸ¥è¯¢æ¥å£</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-8035-8947-cfb53d17f85b" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

@PostMapping(&quot;/user/list&quot;)
public Result&lt;PageResult&lt;UserVO&gt;&gt; getUserList(@RequestBody PageQuery query) {
    return Result.success(userService.getUserList(query));
}

</code></pre><blockquote id="2078d968-54a6-8046-8a9d-c45d251938d9" class="">ğŸ” å°ç»†èŠ‚ï¼šåˆ†é¡µç»“æœå°è£…ä¸ºç»Ÿä¸€ PageResult å¯¹è±¡ï¼Œä¾¿äºå‰ç«¯é€‚é…ã€‚</blockquote><hr id="2078d968-54a6-8040-ada1-deefc4a98e93"/><h3 id="2078d968-54a6-8042-8ee0-c6e4506cc622" class="">âœ… å¯¼å‡º Excel æ–‡ä»¶</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-8019-a61f-da608b30e01a" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

@GetMapping(&quot;/user/export&quot;)
public void exportUsers(HttpServletResponse response) {
    List&lt;UserVO&gt; list = userService.getAll();
    ExcelUtil.exportExcel(response, list, UserVO.class, &quot;ç”¨æˆ·ä¿¡æ¯&quot;);
}

</code></pre><ul id="2078d968-54a6-80fa-83d2-d47aa2380039" class="bulleted-list"><li style="list-style-type:disc">ä½¿ç”¨ EasyExcel å®ç°å¯¼å‡ºåŠŸèƒ½</li></ul><ul id="2078d968-54a6-80c5-8d41-f4c4449dad7f" class="bulleted-list"><li style="list-style-type:disc">ç»Ÿä¸€å¤„ç†æµè¾“å‡ºã€Header è®¾ç½®</li></ul><hr id="2078d968-54a6-809c-a516-f17bb546ef98"/><h2 id="2078d968-54a6-8083-99f6-f6e48ec30d17" class="">4. å…¨å±€å¼‚å¸¸å¤„ç†</h2><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-802d-895f-f696be88938f" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

@RestControllerAdvice
public class GlobalExceptionHandler {

    @ExceptionHandler(BizException.class)
    public Result&lt;?&gt; handleBizException(BizException ex) {
        return Result.fail(ex.getMessage());
    }

    @ExceptionHandler(Exception.class)
    public Result&lt;?&gt; handleException(Exception ex) {
        log.error(&quot;ç³»ç»Ÿå¼‚å¸¸&quot;, ex);
        return Result.fail(&quot;ç³»ç»Ÿå†…éƒ¨é”™è¯¯&quot;);
    }
}

</code></pre><hr id="2078d968-54a6-80ba-ba5a-d8cd8bce11b2"/><h2 id="2078d968-54a6-80d4-b2c6-fb4d61b83560" class="">5. æƒé™æ ¡éªŒä¸æ³¨è§£æ–¹å¼</h2><p id="2078d968-54a6-80cb-90cd-d74e643a4af5" class="">ç»“åˆå‰æ–‡ RBAC æƒé™æ¨¡å—ï¼Œç»Ÿä¸€å†™æƒé™æ£€æŸ¥æ–¹æ³•ï¼š</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2078d968-54a6-8069-a26d-fd58f5717792" class="code"><code class="language-Java" style="white-space:pre-wrap;word-break:break-all">java

@RequiresPermission(&quot;user:add&quot;)
@PostMapping(&quot;/user/add&quot;)
public Result&lt;?&gt; addUser(@RequestBody UserDTO dto) {
    checkPermission(&quot;user:add&quot;);
    userService.addUser(dto);
    return Result.success();
}

</code></pre><hr id="2078d968-54a6-8049-a5cb-c782685a45c4"/><h2 id="2078d968-54a6-80d3-8d94-d169cb3e40e1" class="">6. å‰åç«¯æ¥å£æ–‡æ¡£ç»Ÿä¸€</h2><ul id="2078d968-54a6-8059-83bf-d7c235b932da" class="bulleted-list"><li style="list-style-type:disc">ä½¿ç”¨ Swagger 3 æ³¨è§£ç”Ÿæˆæ–‡æ¡£</li></ul><ul id="2078d968-54a6-80a1-a684-cd9fa1ea0551" class="bulleted-list"><li style="list-style-type:disc">å°†å­—æ®µè¯´æ˜åŒæ­¥å†™å…¥ DTO/VO ç±»ä¸­</li></ul><ul id="2078d968-54a6-802f-b651-ccc6d62f6c8c" class="bulleted-list"><li style="list-style-type:disc">æ¯ä¸ªæ¥å£å¤‡æ³¨æ‰€å±æ¨¡å—ã€ç”¨é€”ã€æƒé™è¦æ±‚</li></ul><hr id="2078d968-54a6-807b-82db-c9c31735495a"/><h2 id="2078d968-54a6-80fa-83ad-e67f9599569d" class="">ğŸ§  é¢è¯•å¼ºåŒ–é—®é¢˜</h2><hr id="2078d968-54a6-80b1-b528-d26a12f1482b"/><h3 id="2078d968-54a6-804e-9547-fd64dfb9c306" class="">â“ Q1ï¼šä½ åšè¿‡å“ªäº› Spring Boot é¡¹ç›®ï¼ŸåŠŸèƒ½æ¨¡å—æœ‰å“ªäº›ï¼Ÿ</h3><p id="2078d968-54a6-8048-a6c1-fc0a04bfc601" class="">âœ… å›ç­”å‚è€ƒï¼š</p><blockquote id="2078d968-54a6-8094-ab18-fe3502db6e9a" class="">æˆ‘åšè¿‡å¤šä¸ª Spring Boot é¡¹ç›®ï¼ŒåŒ…æ‹¬ç”¨æˆ·ç®¡ç†ç³»ç»Ÿã€è®¢å•ç³»ç»Ÿã€é¢„çº¦ç³»ç»Ÿç­‰ã€‚é€šå¸¸åŒ…å«ç™»å½•é‰´æƒã€CRUDã€åˆ†é¡µå¯¼å‡ºã€æ¥å£æƒé™æ§åˆ¶ã€å‰åç«¯è”è°ƒã€å¼‚å¸¸å¤„ç†ã€æ—¥å¿—ç®¡ç†ç­‰æ¨¡å—ã€‚</blockquote><hr id="2078d968-54a6-800a-aa1c-dac8cc5c525b"/><h3 id="2078d968-54a6-8006-a0c8-d581868bb336" class="">â“ Q2ï¼šä½ æ˜¯å¦‚ä½•å®ç°åˆ†é¡µå’Œå¯¼å‡ºçš„ï¼Ÿ</h3><p id="2078d968-54a6-80a6-940d-fa4c02986530" class="">âœ… å›ç­”å‚è€ƒï¼š</p><blockquote id="2078d968-54a6-80af-aca4-f573b64987b8" class="">ä½¿ç”¨ PageHelper/MyBatis åˆ†é¡µæ’ä»¶å®ç°æ¥å£åˆ†é¡µï¼›å¯¼å‡ºä½¿ç”¨ EasyExcel å®ç°ï¼ŒController è¿”å› Excel æµï¼Œæ”¯æŒå‰ç«¯ç‚¹å‡»ä¸‹è½½ã€‚</blockquote><hr id="2078d968-54a6-8087-898a-dbc70922a7df"/><h3 id="2078d968-54a6-805f-b14f-d028f5d91c6b" class="">â“ Q3ï¼šä½ é¡¹ç›®ä¸­çš„ç»Ÿä¸€ç»“æ„å¦‚ä½•è®¾è®¡çš„ï¼Ÿæ˜¯å¦æœ‰æ¨¡æ¿ï¼Ÿ</h3><p id="2078d968-54a6-80cd-91b8-e7e138e59525" class="">âœ… å›ç­”å‚è€ƒï¼š</p><blockquote id="2078d968-54a6-8068-ac1d-f6a0d31d6442" class="">æ‰€æœ‰é¡¹ç›®æˆ‘ç»Ÿä¸€ä½¿ç”¨æ¨¡å—åŒ–ç»“æ„ï¼ˆcontroller / service / dto / entity / mapperï¼‰ï¼Œé…ç½®å±‚é›†ä¸­ç®¡ç†ã€‚å¹¶å°è£…äº†ç»Ÿä¸€è¿”å›ç±»ã€ç»Ÿä¸€å¼‚å¸¸ã€åˆ†é¡µå°è£…ã€æƒé™æ³¨è§£ç­‰ï¼Œæ–¹ä¾¿å¤šé¡¹ç›®å¿«é€Ÿå¤ç”¨ã€‚</blockquote><hr id="2078d968-54a6-8020-a3a7-f6415d6dce39"/><h2 id="2078d968-54a6-801b-bb8b-c58e91ba9b3b" class="">ğŸ§© æ‹“å±•å»ºè®®ï¼šæ‰“é€ è‡ªå·±çš„é¡¹ç›®æ¨¡æ¿</h2><blockquote id="2078d968-54a6-8000-9984-d494228f5647" class="">âœ… æœ€åä¸€ä¸ªå»ºè®®ï¼šå°†è¿™ä¸ªç»¼åˆé¡¹ç›®æ‰“åŒ…ä¸ºä¸€ä¸ªâ€œèµ·å§‹é¡¹ç›®æ¨¡æ¿â€ï¼Œæœªæ¥æ‰€æœ‰å®æˆ˜é¡¹ç›®éƒ½å¯åŸºäºæ­¤æ¼”åŒ–å‡çº§ï¼Œæ•ˆç‡å€å¢ã€‚</blockquote><hr id="2078d968-54a6-80de-a0a8-cac831eac678"/><h2 id="2078d968-54a6-80b5-88ad-f00352c0d5f9" class="">ğŸ¯ å°ç»“å›é¡¾</h2><table id="2078d968-54a6-805d-93ba-f5792058d7a9" class="simple-table"><tbody><tr id="2078d968-54a6-802d-ad79-de01f6240e00"><td id="hvqc" class="">æ¨¡å—ç±»åˆ«</td><td id="`kJ=" class="" style="width:366.00001525878906px">æŠ€æœ¯å®è·µ</td></tr><tr id="2078d968-54a6-8036-9fae-d6ed684c0d7f"><td id="hvqc" class="">æ ¸å¿ƒç»“æ„</td><td id="`kJ=" class="" style="width:366.00001525878906px">Controller + Service + Mapper ä¸‰å±‚æ¶æ„</td></tr><tr id="2078d968-54a6-807a-aa58-c3861f91aca6"><td id="hvqc" class="">æƒé™ä½“ç³»</td><td id="`kJ=" class="" style="width:366.00001525878906px">JWT + RBAC + æ‹¦æˆªå™¨ + æ³¨è§£æ ¡éªŒ</td></tr><tr id="2078d968-54a6-8014-8988-d201c98aaf1d"><td id="hvqc" class="">åˆ†é¡µå¯¼å‡º</td><td id="`kJ=" class="" style="width:366.00001525878906px">PageHelper + EasyExcel</td></tr><tr id="2078d968-54a6-8028-80a0-e34d34e3463f"><td id="hvqc" class="">æ—¥å¿—ç³»ç»Ÿ</td><td id="`kJ=" class="" style="width:366.00001525878906px">Logback æ–‡ä»¶æ—¥å¿— + è¯·æ±‚æ—¥å¿— + å¼‚å¸¸æ—¥å¿—</td></tr><tr id="2078d968-54a6-8049-ae9d-ddc016d19568"><td id="hvqc" class="">ç»Ÿä¸€è§„èŒƒ</td><td id="`kJ=" class="" style="width:366.00001525878906px">ç»Ÿä¸€å“åº”ä½“ï¼ˆResultï¼‰ã€ç»Ÿä¸€å¼‚å¸¸ã€ç»Ÿä¸€æ‹¦æˆª</td></tr><tr id="2078d968-54a6-80e8-9df8-fe8c82e28e06"><td id="hvqc" class="">æ¥å£æ–‡æ¡£</td><td id="`kJ=" class="" style="width:366.00001525878906px">Swagger æ³¨è§£ï¼Œæ”¯æŒåœ¨çº¿æµ‹è¯•ä¸è¯´æ˜å±•ç¤º</td></tr></tbody></table><hr id="2078d968-54a6-8060-98cf-f220a63c741c"/></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body></html>